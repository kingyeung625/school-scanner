{"file_contents":{"client/src/components/FilterSidebar.tsx":{"content":"import { useState } from 'react';\nimport { X, ChevronDown, Search } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from '@/components/ui/collapsible';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport type { FilterState } from '@shared/school-schema';\n\ninterface FilterSidebarProps {\n  filters: FilterState;\n  onFilterChange: (filters: FilterState) => void;\n  onClose?: () => void;\n}\n\nconst filterOptions = {\n  區域: ['香港東區', '南區', '灣仔區', '中西區', '九龍城區', '觀塘區', '深水埗區', '油尖旺區', '黃大仙區', '沙田區', '大埔區', '北區', '元朗區', '屯門區', '荃灣區', '葵青區', '離島區', '西貢區'],\n  校網: ['11', '12', '14', '16', '18', '31', '32', '34', '35', '40', '41', '43', '45', '46', '48', '62', '65', '66', '70', '72', '74', '80', '81', '83', '84', '88', '89', '91', '95', '97', '98'],\n  資助類型: ['資助', '官立', '私立', '直資'],\n  學生性別: ['男女', '男', '女'],\n  宗教: ['基督教', '天主教', '佛教', '道教', '伊斯蘭教', '不適用'],\n  教學語言: ['中文', '中文及英文', '中文（包括：普通話）', '中文（包括：普通話）及英文'],\n  關聯學校: ['一條龍', '直屬', '聯繫'],\n  辦學團體: ['天主教香港教區', '聖公宗（香港）小學監理委員會有限公司', '政府', '保良局', '中華基督教會香港區會', '東華三院', '嘉諾撒仁愛女修會', '基督教香港信義會', '香港佛教聯合會', '耶穌寶血女修會', '鮑思高慈幼會', '香港浸信會聯會', '香港九龍塘基督教中華宣道會', '香港道教聯合會', '香港路德會有限公司', '香港基督教循道衞理聯合教會', '順德聯誼總會', '救世軍', '仁濟醫院', '九龍樂善堂', '香海正覺蓮社', '基督教香港崇真會', '嗇色園', '鳳溪公立學校', '香港天主教方濟會會長', '香港喇沙修士會', '香港五邑工商總會', '青松觀有限公司', '無玷聖母獻主會', '港澳信義會有限公司'],\n};\n\nexport default function FilterSidebar({ filters, onFilterChange, onClose }: FilterSidebarProps) {\n  const { t, convertText, language } = useLanguage();\n  const [openSections, setOpenSections] = useState<Record<string, boolean>>({\n    資助類型: true,\n    學生性別: true,\n    宗教: false,\n    教學語言: false,\n    關聯學校: false,\n    辦學團體: false,\n  });\n\n  const [searchTerms, setSearchTerms] = useState<Record<string, string>>({\n    區域: '',\n    校網: '',\n    辦學團體: '',\n  });\n\n  const toggleSection = (section: string) => {\n    setOpenSections(prev => ({ ...prev, [section]: !prev[section] }));\n  };\n\n  const handleCheckboxChange = (category: keyof FilterState, value: string, checked: boolean) => {\n    if (category === 'searchQuery') return;\n    \n    const currentValues = filters[category] as string[];\n    const newValues = checked\n      ? [...currentValues, value]\n      : currentValues.filter(v => v !== value);\n    \n    onFilterChange({ ...filters, [category]: newValues });\n  };\n\n  const removeFilter = (category: keyof FilterState, value: string) => {\n    const currentValues = filters[category] as string[];\n    const newValues = currentValues.filter(v => v !== value);\n    onFilterChange({ ...filters, [category]: newValues });\n  };\n\n  const clearFilters = () => {\n    onFilterChange({\n      區域: [],\n      校網: [],\n      資助類型: [],\n      學生性別: [],\n      宗教: [],\n      教學語言: [],\n      關聯學校: [],\n      辦學團體: [],\n      searchQuery: '',\n    });\n  };\n\n  const hasActiveFilters = Object.entries(filters).some(([key, value]) => \n    key !== 'searchQuery' && Array.isArray(value) && value.length > 0\n  );\n\n  const getActiveFilterChips = () => {\n    const chips: { category: keyof FilterState; value: string; label: string }[] = [];\n    Object.entries(filters).forEach(([category, values]) => {\n      if (category !== 'searchQuery' && Array.isArray(values)) {\n        values.forEach(value => {\n          chips.push({\n            category: category as keyof FilterState,\n            value,\n            label: `${(t as any)[category] || convertText(category)}: ${convertText(value)}`,\n          });\n        });\n      }\n    });\n    return chips;\n  };\n\n  const filterOptionsBySearch = (options: string[], searchTerm: string) => {\n    if (!searchTerm.trim()) return options;\n    // Normalize both search term and options to ensure bilingual search works\n    const normalizedSearch = convertText(searchTerm).toLowerCase();\n    return options.filter(option => \n      convertText(option).toLowerCase().includes(normalizedSearch)\n    );\n  };\n\n  const renderCheckboxGrid = (category: keyof FilterState, options: string[], columns: number = 1) => {\n    const gridClass = columns === 2 ? 'grid grid-cols-2 gap-x-3 gap-y-1.5' : 'space-y-1.5';\n    \n    return (\n      <div className={gridClass}>\n        {options.map((option) => {\n          const isChecked = (filters[category] as string[])?.includes(option);\n          return (\n            <div key={option} className=\"flex items-center space-x-2\">\n              <Checkbox\n                id={`${category}-${option}`}\n                checked={isChecked}\n                onCheckedChange={(checked) =>\n                  handleCheckboxChange(category, option, checked as boolean)\n                }\n                data-testid={`checkbox-${category}-${option}`}\n              />\n              <Label\n                htmlFor={`${category}-${option}`}\n                className=\"text-xs cursor-pointer leading-tight\"\n              >\n                {convertText(option)}\n              </Label>\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  const renderRegionFilter = () => {\n    const searchTerm = searchTerms['區域'] || '';\n    const filteredRegions = filterOptionsBySearch(filterOptions['區域'], searchTerm);\n\n    return (\n      <>\n        <div className=\"mb-2\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground\" />\n            <Input\n              type=\"text\"\n              placeholder={language === 'tc' ? '搜尋區域...' : '搜索区域...'}\n              value={searchTerm}\n              onChange={(e) => setSearchTerms(prev => ({ ...prev, '區域': e.target.value }))}\n              className=\"h-7 pl-7 text-xs\"\n              data-testid=\"input-search-region\"\n            />\n          </div>\n        </div>\n        {renderCheckboxGrid('區域', filteredRegions)}\n      </>\n    );\n  };\n\n  const renderSchoolNetFilter = () => {\n    const searchTerm = searchTerms['校網'] || '';\n    const filteredNets = filterOptionsBySearch(filterOptions['校網'], searchTerm);\n\n    return (\n      <>\n        <div className=\"mb-2\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground\" />\n            <Input\n              type=\"text\"\n              placeholder={language === 'tc' ? '搜尋校網...' : '搜索校网...'}\n              value={searchTerm}\n              onChange={(e) => setSearchTerms(prev => ({ ...prev, '校網': e.target.value }))}\n              className=\"h-7 pl-7 text-xs\"\n              data-testid=\"input-search-school-net\"\n            />\n          </div>\n        </div>\n        {renderCheckboxGrid('校網', filteredNets, 2)}\n      </>\n    );\n  };\n\n  const renderSponsoringBodyFilter = () => {\n    const searchTerm = searchTerms['辦學團體'] || '';\n    const filteredBodies = filterOptionsBySearch(filterOptions['辦學團體'], searchTerm);\n\n    return (\n      <>\n        <div className=\"mb-2\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground\" />\n            <Input\n              type=\"text\"\n              placeholder={language === 'tc' ? '搜尋辦學團體...' : '搜索办学团体...'}\n              value={searchTerm}\n              onChange={(e) => setSearchTerms(prev => ({ ...prev, '辦學團體': e.target.value }))}\n              className=\"h-7 pl-7 text-xs\"\n              data-testid=\"input-search-sponsoring-body\"\n            />\n          </div>\n        </div>\n        {renderCheckboxGrid('辦學團體', filteredBodies)}\n      </>\n    );\n  };\n\n  const activeChips = getActiveFilterChips();\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      <div className=\"flex items-center justify-between p-4 border-b\">\n        <h2 className=\"text-base font-semibold\">{t.filters}</h2>\n        {onClose && (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={onClose}\n            data-testid=\"button-close-filters\"\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        )}\n      </div>\n\n      {/* Active filter chips */}\n      {activeChips.length > 0 && (\n        <div className=\"p-3 border-b bg-muted/30\">\n          <div className=\"flex flex-wrap gap-1.5\">\n            {activeChips.map((chip, idx) => (\n              <Badge\n                key={`${chip.category}-${chip.value}-${idx}`}\n                variant=\"secondary\"\n                className=\"text-xs pl-2 pr-1 py-0.5 gap-1\"\n              >\n                <span>{chip.label}</span>\n                <button\n                  onClick={() => removeFilter(chip.category, chip.value)}\n                  className=\"hover-elevate rounded-full p-0.5\"\n                  data-testid={`button-remove-filter-${chip.category}-${chip.value}`}\n                >\n                  <X className=\"h-2.5 w-2.5\" />\n                </button>\n              </Badge>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"p-3 space-y-4\">\n          {/* 區域 filter with flat list */}\n          <div>\n            <div className=\"px-2 py-1.5 mb-2\">\n              <span className=\"font-medium text-xs\">{t.region}</span>\n            </div>\n            <div className=\"pl-2\">\n              {renderRegionFilter()}\n            </div>\n          </div>\n\n          {/* 校網 filter with flat list */}\n          <div>\n            <div className=\"px-2 py-1.5 mb-2\">\n              <span className=\"font-medium text-xs\">{t.schoolNet}</span>\n            </div>\n            <div className=\"pl-2\">\n              {renderSchoolNetFilter()}\n            </div>\n          </div>\n\n          {/* Other filters with simple layout */}\n          {(['資助類型', '學生性別', '宗教', '教學語言', '關聯學校'] as const).map((category) => (\n            <Collapsible\n              key={category}\n              open={openSections[category]}\n              onOpenChange={() => toggleSection(category)}\n            >\n              <CollapsibleTrigger className=\"flex items-center justify-between w-full px-2 py-1.5 hover-elevate active-elevate-2 rounded-md\" data-testid={`button-toggle-${category}`}>\n                <span className=\"font-medium text-xs\">\n                  {(t as any)[category] || convertText(category)}\n                </span>\n                <ChevronDown className={`h-3 w-3 transition-transform ${openSections[category] ? 'rotate-180' : ''}`} />\n              </CollapsibleTrigger>\n              <CollapsibleContent className=\"pt-2 space-y-1.5 pl-2\">\n                {renderCheckboxGrid(category, filterOptions[category])}\n              </CollapsibleContent>\n            </Collapsible>\n          ))}\n\n          {/* 辦學團體 filter with collapsible and search */}\n          <Collapsible\n            open={openSections['辦學團體']}\n            onOpenChange={() => toggleSection('辦學團體')}\n          >\n            <CollapsibleTrigger className=\"flex items-center justify-between w-full px-2 py-1.5 hover-elevate active-elevate-2 rounded-md\" data-testid=\"button-toggle-辦學團體\">\n              <span className=\"font-medium text-xs\">\n                {t.sponsoringBody}\n              </span>\n              <ChevronDown className={`h-3 w-3 transition-transform ${openSections['辦學團體'] ? 'rotate-180' : ''}`} />\n            </CollapsibleTrigger>\n            <CollapsibleContent className=\"pt-2 space-y-1.5 pl-2\">\n              {renderSponsoringBodyFilter()}\n            </CollapsibleContent>\n          </Collapsible>\n        </div>\n      </div>\n\n      {hasActiveFilters && (\n        <div className=\"p-3 border-t\">\n          <Button\n            variant=\"outline\"\n            onClick={clearFilters}\n            className=\"w-full\"\n            size=\"sm\"\n            data-testid=\"button-clear-filters\"\n          >\n            {t.clearFilters}\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n}\n","size_bytes":12951},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"server/storage.ts":{"content":"import { type User, type InsertUser } from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\n\n// modify the interface with any CRUD methods\n// you might need\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n\n  constructor() {\n    this.users = new Map();\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n}\n\nexport const storage = new MemStorage();\n","size_bytes":993},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/examples/SchoolDetail.tsx":{"content":"import SchoolDetail from '../SchoolDetail';\nimport { LanguageProvider } from '@/contexts/LanguageContext';\nimport { mockSchools } from '@/lib/mockSchools';\n\nexport default function SchoolDetailExample() {\n  const handleClose = () => {\n    console.log('Close detail view');\n  };\n\n  return (\n    <LanguageProvider>\n      <SchoolDetail school={mockSchools[0]} onClose={handleClose} />\n    </LanguageProvider>\n  );\n}\n","size_bytes":413},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ComparisonView.tsx":{"content":"import { useState, useEffect, useRef } from 'react';\nimport { X, ArrowLeft, ArrowUp } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport type { School } from '@shared/school-schema';\nimport AdBanner from './AdBanner';\n\ninterface ComparisonViewProps {\n  schools: School[];\n  onClose: () => void;\n  onRemove: (school: School) => void;\n}\n\nexport default function ComparisonView({ schools, onClose, onRemove }: ComparisonViewProps) {\n  const { t, convertText } = useLanguage();\n  const [showBackToTop, setShowBackToTop] = useState(false);\n  const scrollAreaRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const scrollElement = scrollAreaRef.current?.querySelector('[data-radix-scroll-area-viewport]');\n    \n    const handleScroll = () => {\n      if (scrollElement) {\n        setShowBackToTop(scrollElement.scrollTop > 200);\n      }\n    };\n\n    if (scrollElement) {\n      scrollElement.addEventListener('scroll', handleScroll);\n      return () => scrollElement.removeEventListener('scroll', handleScroll);\n    }\n  }, []);\n\n  const scrollToTop = () => {\n    const scrollElement = scrollAreaRef.current?.querySelector('[data-radix-scroll-area-viewport]');\n    if (scrollElement) {\n      scrollElement.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  };\n\n  const ComparisonRow = ({ label, getValue }: { label: string; getValue: (school: School) => string | undefined }) => (\n    <div className=\"border-b last:border-b-0\">\n      <div className=\"grid grid-cols-1 md:grid-cols-[200px_1fr]\">\n        <div className=\"p-4 bg-muted/30 font-medium text-sm\">\n          {label}\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n          {schools.map((school, index) => {\n            const value = getValue(school);\n            return (\n              <div\n                key={school.id}\n                className={`p-4 ${index !== schools.length - 1 ? 'border-b md:border-b-0 md:border-r' : ''}`}\n              >\n                <div \n                  className=\"text-sm leading-relaxed [&_br]:block [&_br]:my-1\"\n                  dangerouslySetInnerHTML={{ __html: value ? convertText(value) : '-' }}\n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"fixed inset-0 bg-background z-50 flex flex-col\">\n      <div className=\"p-4 md:p-6 border-b\">\n        <div className=\"flex items-center gap-4 mb-4\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={onClose}\n            data-testid=\"button-back-comparison\"\n          >\n            <ArrowLeft className=\"h-5 w-5\" />\n          </Button>\n          <h1 className=\"text-2xl md:text-3xl font-semibold\">\n            {t.compareSchools}\n          </h1>\n        </div>\n        \n        <div className=\"flex gap-2 overflow-x-auto pb-2\">\n          {schools.map((school) => (\n            <Badge\n              key={school.id}\n              variant=\"default\"\n              className=\"gap-2 py-2 px-4 flex-shrink-0\"\n              data-testid={`badge-comparing-${school.id}`}\n            >\n              <span>{convertText(school.學校名稱)}</span>\n              <button\n                onClick={() => onRemove(school)}\n                className=\"hover-elevate active-elevate-2 rounded-sm\"\n                data-testid={`button-remove-comparing-${school.id}`}\n              >\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n        </div>\n      </div>\n\n      <ScrollArea className=\"flex-1\" ref={scrollAreaRef}>\n        <div className=\"max-w-7xl mx-auto p-4 md:p-6\">\n          {/* School Names Header */}\n          <div className=\"border rounded-md mb-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-[200px_1fr] bg-muted/50\">\n              <div className=\"p-4 font-semibold\">\n                {t.schoolName}\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n                {schools.map((school, index) => (\n                  <div\n                    key={school.id}\n                    className={`p-4 font-medium ${index !== schools.length - 1 ? 'border-b md:border-b-0 md:border-r' : ''}`}\n                  >\n                    {convertText(school.學校名稱)}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Ad banner before first accordion */}\n          <div className=\"flex justify-center mb-6\">\n            <AdBanner />\n          </div>\n\n          <Accordion type=\"multiple\" className=\"space-y-4\">\n            {/* Section 1: Basic Information */}\n            <AccordionItem value=\"basic-info\" className=\"border rounded-md px-4\">\n              <AccordionTrigger className=\"text-lg font-semibold\" data-testid=\"accordion-basic-info\">\n                {t.comparisonBasicInfo}\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"border-t\">\n                  <ComparisonRow label={t.region} getValue={(s) => s.區域} />\n                  <ComparisonRow label={t.schoolNet} getValue={(s) => s.小一學校網} />\n                  <ComparisonRow label={t.schoolType} getValue={(s) => s.學校類別1} />\n                  <ComparisonRow label={t.classTime} getValue={(s) => s.學校類別2} />\n                  <ComparisonRow label={t.gender} getValue={(s) => s.學生性別} />\n                  <ComparisonRow label={t.language} getValue={(s) => s.教學語言} />\n                  <ComparisonRow label={t.religion} getValue={(s) => s.宗教} />\n                  <ComparisonRow label={t.establishedYear} getValue={(s) => s.創校年份} />\n                  <ComparisonRow label={t.sponsoringBody} getValue={(s) => s.辦學團體} />\n                  <ComparisonRow label={t.motto} getValue={(s) => s.校訓} />\n                  <ComparisonRow label={t.throughTrain} getValue={(s) => s.一條龍中學} />\n                  <ComparisonRow label={t.directSchools} getValue={(s) => s.直屬中學} />\n                  <ComparisonRow label={t.linkedSchools} getValue={(s) => s.聯繫中學} />\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n\n            {/* Section 2: School Operations */}\n            <AccordionItem value=\"operations\" className=\"border rounded-md px-4\">\n              <AccordionTrigger className=\"text-lg font-semibold\" data-testid=\"accordion-operations\">\n                {t.comparisonOperations}\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"border-t\">\n                  <ComparisonRow label={t.generalArrivalTime} getValue={(s) => s.一般上學時間} />\n                  <ComparisonRow label={t.generalDismissalTime} getValue={(s) => s.一般放學時間} />\n                  <ComparisonRow label={t.lunchStartTime} getValue={(s) => s.午膳開始時間} />\n                  <ComparisonRow label={t.lunchEndTime} getValue={(s) => s.午膳結束時間} />\n                  <ComparisonRow label={t.lunchArrangement} getValue={(s) => s.午膳安排} />\n                  <ComparisonRow label={t.schoolBus} getValue={(s) => s.校車} />\n                  <ComparisonRow label={t.nannyBus} getValue={(s) => s.保姆車} />\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n\n            {/* Section 3: Fees */}\n            <AccordionItem value=\"fees\" className=\"border rounded-md px-4\">\n              <AccordionTrigger className=\"text-lg font-semibold\" data-testid=\"accordion-fees\">\n                {t.comparisonFees}\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"border-t\">\n                  <ComparisonRow label={t.tuition} getValue={(s) => s.學費} />\n                  <ComparisonRow label={t.tuitionReduction} getValue={(s) => s.學費減免} />\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n\n            {/* Ad banner after section 3 */}\n            <div className=\"flex justify-center my-6\">\n              <AdBanner />\n            </div>\n\n            {/* Section 4: Philosophy */}\n            <AccordionItem value=\"philosophy\" className=\"border rounded-md px-4\">\n              <AccordionTrigger className=\"text-lg font-semibold\" data-testid=\"accordion-philosophy\">\n                {t.comparisonPhilosophy}\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"border-t\">\n                  <ComparisonRow label={t.mission} getValue={(s) => s.辦學宗旨} />\n                  <ComparisonRow label={t.schoolCulture} getValue={(s) => s.校風} />\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n\n            {/* Section 5: Teaching & Class Structure */}\n            <AccordionItem value=\"teaching\" className=\"border rounded-md px-4\">\n              <AccordionTrigger className=\"text-lg font-semibold\" data-testid=\"accordion-teaching\">\n                {t.comparisonTeaching}\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"border-t\">\n                  <ComparisonRow label={t.classTeachingMode} getValue={(s) => s.班級教學模式} />\n                  <ComparisonRow label={t.classStructureRemarks} getValue={(s) => s.班級結構備註} />\n                  <ComparisonRow label={t.classArrangement} getValue={(s) => s.分班安排} />\n                  <ComparisonRow label={t.teachingStrategies} getValue={(s) => s.學習和教學策略} />\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n\n            {/* Section 6: Assessment & Homework */}\n            <AccordionItem value=\"assessment\" className=\"border rounded-md px-4\">\n              <AccordionTrigger className=\"text-lg font-semibold\" data-testid=\"accordion-assessment\">\n                {t.comparisonAssessment}\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"border-t\">\n                  <ComparisonRow label={t.testCountYear1} getValue={(s) => s.全年全科測驗次數_一年級} />\n                  <ComparisonRow label={t.examCountYear1} getValue={(s) => s.全年全科考試次數_一年級} />\n                  <ComparisonRow label={t.p1AlternativeAssessment} getValue={(s) => s.小一上學期以多元化的進展性評估代替測驗及考試} />\n                  <ComparisonRow label={t.testCountYear2to6} getValue={(s) => s.全年全科測驗次數_二至六年級} />\n                  <ComparisonRow label={t.examCountYear2to6} getValue={(s) => s.全年全科考試次數_二至六年級} />\n                  <ComparisonRow label={t.homeworkPolicyParents} getValue={(s) => s.制定適切的校本課業政策_讓家長了解相關安排_並定期蒐集教師_學生和家長的意見} />\n                  <ComparisonRow label={t.assessmentPolicyOnline} getValue={(s) => s.將校本評估政策上載至學校網頁_讓公眾及持份者知悉} />\n                  <ComparisonRow label={t.diverseLearningAssessment} getValue={(s) => s.多元學習評估} />\n                  <ComparisonRow label={t.avoidTestAfterHoliday} getValue={(s) => s.避免緊接在長假期後安排測考_讓學生在假期有充分的休息} />\n                  <ComparisonRow label={t.afternoonHomeworkTime} getValue={(s) => s.按校情靈活編排時間表_盡量在下午安排導修時段_讓學生能在教師指導下完成部分家課} />\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n\n            {/* Ad banner after section 6 */}\n            <div className=\"flex justify-center my-6\">\n              <AdBanner />\n            </div>\n\n            {/* Section 7: Curriculum Development */}\n            <AccordionItem value=\"curriculum\" className=\"border rounded-md px-4\">\n              <AccordionTrigger className=\"text-lg font-semibold\" data-testid=\"accordion-curriculum\">\n                {t.comparisonCurriculum}\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"border-t\">\n                  <ComparisonRow label={t.curriculumDevelopment} getValue={(s) => s.小學教育課程更新重點的發展} />\n                  <ComparisonRow label={t.genericSkills} getValue={(s) => s.共通能力的培養} />\n                  <ComparisonRow label={t.valuesEducation} getValue={(s) => s.正確價值觀_態度和行為的培養} />\n                  <ComparisonRow label={t.curriculumAdaptation} getValue={(s) => s.課程剪裁及調適措施} />\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n\n            {/* Section 8: Student Support */}\n            <AccordionItem value=\"support\" className=\"border rounded-md px-4\">\n              <AccordionTrigger className=\"text-lg font-semibold\" data-testid=\"accordion-support\">\n                {t.comparisonSupport}\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"border-t\">\n                  <ComparisonRow label={t.studentDiversity} getValue={(s) => s.全校參與照顧學生的多樣性} />\n                  <ComparisonRow label={t.inclusiveEducation} getValue={(s) => s.全校參與模式融合教育} />\n                  <ComparisonRow label={t.nonChineseSpeakingSupport} getValue={(s) => s.非華語學生的教育支援} />\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n\n            {/* Section 9: School Life & Activities */}\n            <AccordionItem value=\"school-life\" className=\"border rounded-md px-4\">\n              <AccordionTrigger className=\"text-lg font-semibold\" data-testid=\"accordion-school-life\">\n                {t.comparisonSchoolLife}\n              </AccordionTrigger>\n              <AccordionContent>\n                <div className=\"border-t\">\n                  <ComparisonRow label={t.healthyCampusLife} getValue={(s) => s.健康校園生活} />\n                  <ComparisonRow label={t.wholePerson} getValue={(s) => s.全方位學習} />\n                  <ComparisonRow label={t.environmentalPolicy} getValue={(s) => s.環保政策} />\n                  <ComparisonRow label={t.schoolFocusAreas} getValue={(s) => s.學校關注事項} />\n                  <ComparisonRow label={t.homeSchoolCooperation} getValue={(s) => s.家校合作} />\n                  <ComparisonRow label={t.schoolLifeRemarks} getValue={(s) => s.學校生活備註} />\n                  <ComparisonRow label={t.schoolCharacteristics} getValue={(s) => s.學校特色_其他} />\n                </div>\n              </AccordionContent>\n            </AccordionItem>\n          </Accordion>\n\n          {/* Ad banner at bottom of comparison */}\n          <div className=\"flex justify-center mt-8 mb-4\">\n            <AdBanner />\n          </div>\n          \n          {/* Disclaimer footer */}\n          <div className=\"pt-4 pb-8 border-t text-center\">\n            <p className=\"text-xs text-muted-foreground\">\n              {convertText('以上資料取自《小學概覽》2025，只供參考，所有資訊應以學校官方公布作準')}\n            </p>\n          </div>\n        </div>\n      </ScrollArea>\n\n      {/* Floating Back to Top Button */}\n      {showBackToTop && (\n        <Button\n          variant=\"default\"\n          size=\"icon\"\n          className=\"fixed bottom-8 right-8 rounded-full shadow-lg z-50\"\n          onClick={scrollToTop}\n          data-testid=\"button-back-to-top\"\n        >\n          <ArrowUp className=\"h-5 w-5\" />\n        </Button>\n      )}\n    </div>\n  );\n}\n","size_bytes":15957},"client/src/pages/Home.tsx":{"content":"import { useState, useMemo, useEffect, Fragment } from 'react';\nimport { Menu, SlidersHorizontal } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet';\nimport LanguageToggle from '@/components/LanguageToggle';\nimport SearchBar from '@/components/SearchBar';\nimport FilterSidebar from '@/components/FilterSidebar';\nimport SchoolListItem from '@/components/SchoolListItem';\nimport ComparisonBar from '@/components/ComparisonBar';\nimport SchoolDetail from '@/components/SchoolDetail';\nimport ComparisonView from '@/components/ComparisonView';\nimport AdBanner from '@/components/AdBanner';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { convertToSimplified } from '@/lib/i18n';\nimport { loadSchools } from '@/lib/csvParser';\nimport type { FilterState, School } from '@shared/school-schema';\nimport logoImage from '@/assets/01-logo.jpg';\n\n// Popular feature tags based on CSV data analysis\n// Note: For bilingual tags (e.g., \"愉快/Happy School\"), the part before \"/\" is used for searching\nconst POPULAR_TAGS = [\n  'STEAM',\n  'AI/人工智能',\n  '愉快/Happy School',\n  '關愛',\n  '兩文三語/英語教育',\n  '中華文化',\n  '電子學習',\n  '創意',\n  '自主學習',\n  '音樂',\n  '體育',\n  '藝術'\n];\n\n// Tag keyword mapping - defines which keywords to search for each tag\n// Most tags search for themselves, but some tags search for multiple keywords (OR logic)\nconst TAG_KEYWORDS: Record<string, string[]> = {\n  '兩文三語/英語教育': ['兩文三語', '英語學習', '英語活動'],\n  'AI/人工智能': ['AI', '人工智能'],\n  // All other tags search for themselves (extracted before \"/\" for bilingual tags)\n};\n\nexport default function Home() {\n  const { t, convertText, language } = useLanguage();\n  const [allSchools, setAllSchools] = useState<School[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [filters, setFilters] = useState<FilterState>({\n    區域: [],\n    校網: [],\n    資助類型: [],\n    學生性別: [],\n    宗教: [],\n    教學語言: [],\n    關聯學校: [],\n    辦學團體: [],\n    searchQuery: '',\n  });\n  const [searchQuery, setSearchQuery] = useState('');\n  const [featureSearchQuery, setFeatureSearchQuery] = useState('');\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\n  const [selectedSchools, setSelectedSchools] = useState<School[]>([]);\n  const [detailSchool, setDetailSchool] = useState<School | null>(null);\n  const [showComparison, setShowComparison] = useState(false);\n  const [mobileFiltersOpen, setMobileFiltersOpen] = useState(false);\n\n  // Load schools from CSV on mount\n  useEffect(() => {\n    loadSchools().then(schools => {\n      setAllSchools(schools);\n      setIsLoading(false);\n    });\n  }, []);\n\n  // Filter schools based on search and filter criteria\n  const filteredSchools = useMemo(() => {\n    return allSchools.filter((school) => {\n      // Helper to normalize and lowercase any text for matching\n      const normalizeAndLower = (text: string) => {\n        if (!text) return '';\n        return convertToSimplified(text).toLowerCase();\n      };\n\n      // Search by school name only (bidirectional TC/SC matching)\n      if (searchQuery) {\n        const query = convertToSimplified(searchQuery).toLowerCase();\n        const nameMatch = normalizeAndLower(school.學校名稱).includes(query);\n        \n        if (!nameMatch) {\n          return false;\n        }\n      }\n\n      // Feature search in 3 specific fields: 辦學宗旨, 學習和教學策略, 學校特色_其他\n      if (featureSearchQuery) {\n        const query = convertToSimplified(featureSearchQuery).toLowerCase();\n        \n        const philosophyMatch = school.辦學宗旨 ? normalizeAndLower(school.辦學宗旨).includes(query) : false;\n        const teachingStrategyMatch = school.學習和教學策略 ? normalizeAndLower(school.學習和教學策略).includes(query) : false;\n        const schoolFeaturesMatch = school.學校特色_其他 ? normalizeAndLower(school.學校特色_其他).includes(query) : false;\n        \n        if (!philosophyMatch && !teachingStrategyMatch && !schoolFeaturesMatch) {\n          return false;\n        }\n      }\n\n      // Tag-based filtering\n      if (selectedTags.length > 0) {\n        const combinedText = [\n          school.辦學宗旨 || '',\n          school.學習和教學策略 || '',\n          school.學校特色_其他 || ''\n        ].join(' ');\n        \n        const normalizedCombined = normalizeAndLower(combinedText);\n        \n        // Check if ALL selected tags are present in the combined text\n        const hasAllTags = selectedTags.every(tag => {\n          // Check if this tag has multiple search keywords\n          if (TAG_KEYWORDS[tag]) {\n            // Multi-keyword tag: match if ANY keyword is found (OR logic)\n            return TAG_KEYWORDS[tag].some(keyword => \n              normalizedCombined.includes(normalizeAndLower(keyword))\n            );\n          } else {\n            // Single keyword tag: extract Chinese part before \"/\" for bilingual tags\n            const searchTerm = tag.includes('/') ? tag.split('/')[0].trim() : tag;\n            return normalizedCombined.includes(normalizeAndLower(searchTerm));\n          }\n        });\n        \n        if (!hasAllTags) {\n          return false;\n        }\n      }\n      \n      if (filters.區域.length > 0 && !filters.區域.includes(school.區域)) {\n        return false;\n      }\n      \n      if (filters.資助類型.length > 0 && !filters.資助類型.includes(school.學校類別1)) {\n        return false;\n      }\n      \n      if (filters.學生性別.length > 0 && !filters.學生性別.includes(school.學生性別)) {\n        return false;\n      }\n      \n      if (filters.宗教.length > 0 && school.宗教 && !filters.宗教.includes(school.宗教)) {\n        return false;\n      }\n      \n      if (filters.教學語言.length > 0 && school.教學語言 && !filters.教學語言.includes(school.教學語言)) {\n        return false;\n      }\n      \n      // Filter by school network (校網) - handle multi-district codes like \"11/12\"\n      if (filters.校網.length > 0) {\n        if (!school.小一學校網 || school.小一學校網 === '/' || school.小一學校網.trim() === '') {\n          return false;\n        }\n        const schoolNetworks = school.小一學校網.split('/').map(n => n.trim());\n        const hasMatch = schoolNetworks.some(network => filters.校網.includes(network));\n        if (!hasMatch) {\n          return false;\n        }\n      }\n      \n      // Filter by linked schools (關聯學校) - matches 一條龍/直屬/聯繫\n      if (filters.關聯學校.length > 0) {\n        let hasLinkedSchool = false;\n        \n        for (const linkedType of filters.關聯學校) {\n          if (linkedType === '一條龍' && school.一條龍中學 && school.一條龍中學 !== '-') {\n            hasLinkedSchool = true;\n            break;\n          }\n          if (linkedType === '直屬' && school.直屬中學 && school.直屬中學 !== '-') {\n            hasLinkedSchool = true;\n            break;\n          }\n          if (linkedType === '聯繫' && school.聯繫中學 && school.聯繫中學 !== '-') {\n            hasLinkedSchool = true;\n            break;\n          }\n        }\n        \n        if (!hasLinkedSchool) {\n          return false;\n        }\n      }\n      \n      // Filter by sponsoring body (辦學團體)\n      if (filters.辦學團體.length > 0) {\n        // Treat empty strings, dashes, and other placeholders as missing data\n        const sponsoringBody = school.辦學團體?.trim();\n        if (!sponsoringBody || sponsoringBody === '-' || sponsoringBody === '—' || sponsoringBody === '－') {\n          return false;\n        }\n        \n        // Handle multiple sponsoring bodies separated by comma or 、\n        const bodies = sponsoringBody.split(/[,、]/).map(b => b.trim());\n        const hasMatch = bodies.some(body => filters.辦學團體.includes(body));\n        \n        if (!hasMatch) {\n          return false;\n        }\n      }\n      \n      return true;\n    });\n  }, [allSchools, filters, searchQuery, featureSearchQuery, selectedTags, language]);\n\n  const handleToggleSelect = (school: School) => {\n    setSelectedSchools(prev => {\n      const isSelected = prev.some(s => s.id === school.id);\n      if (isSelected) {\n        return prev.filter(s => s.id !== school.id);\n      } else if (prev.length < 4) {\n        return [...prev, school];\n      }\n      return prev;\n    });\n  };\n\n  const handleViewDetails = (school: School) => {\n    setDetailSchool(school);\n  };\n\n  const handleCompare = () => {\n    setShowComparison(true);\n  };\n\n  const handleRemoveFromComparison = (school: School) => {\n    setSelectedSchools(prev => prev.filter(s => s.id !== school.id));\n  };\n\n  const handleToggleTag = (tag: string) => {\n    setSelectedTags(prev => \n      prev.includes(tag) \n        ? prev.filter(t => t !== tag)\n        : [...prev, tag]\n    );\n  };\n\n  if (showComparison) {\n    return (\n      <ComparisonView\n        schools={selectedSchools}\n        onClose={() => setShowComparison(false)}\n        onRemove={handleRemoveFromComparison}\n      />\n    );\n  }\n\n  if (detailSchool) {\n    return <SchoolDetail school={detailSchool} onClose={() => setDetailSchool(null)} />;\n  }\n\n  return (\n    <div className=\"h-screen flex flex-col\">\n      {/* Header */}\n      <header className=\"border-b bg-background sticky top-0 z-40\">\n        <div className=\"px-4 md:px-6 py-4\">\n          <div className=\"flex items-center gap-4 mb-4\">\n            <Sheet open={mobileFiltersOpen} onOpenChange={setMobileFiltersOpen}>\n              <SheetTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  className=\"md:hidden gap-2\"\n                  data-testid=\"button-mobile-filters\"\n                >\n                  <SlidersHorizontal className=\"h-4 w-4\" />\n                  <span>{language === 'tc' ? '篩選' : '筛选'}</span>\n                </Button>\n              </SheetTrigger>\n              <SheetContent side=\"left\" className=\"p-0 w-[300px]\">\n                <FilterSidebar\n                  filters={filters}\n                  onFilterChange={setFilters}\n                />\n              </SheetContent>\n            </Sheet>\n            \n            <div className=\"flex items-center gap-3 flex-1\">\n              <img \n                src={logoImage} \n                alt=\"01教育 Logo\" \n                className=\"h-10 md:h-12 w-auto\"\n                data-testid=\"img-logo\"\n              />\n              <h1 className=\"text-2xl md:text-3xl font-semibold\" data-testid=\"text-app-title\">\n                {t.appTitle}\n              </h1>\n            </div>\n            \n            <LanguageToggle />\n          </div>\n          \n          <div className=\"max-w-2xl space-y-3\">\n            <SearchBar \n              value={searchQuery} \n              onChange={setSearchQuery}\n              placeholder={language === 'tc' ? '搜索學校名稱...' : '搜索学校名称...'}\n              data-testid=\"input-search-name\"\n            />\n            <SearchBar \n              value={featureSearchQuery} \n              onChange={setFeatureSearchQuery}\n              placeholder={language === 'tc' ? '搜索學校特色或設施...' : '搜索学校特色或设施...'}\n              data-testid=\"input-search-features\"\n            />\n            <div className=\"flex flex-wrap gap-2\">\n              {POPULAR_TAGS.map(tag => (\n                <Badge\n                  key={tag}\n                  variant={selectedTags.includes(tag) ? \"default\" : \"outline\"}\n                  className=\"cursor-pointer hover-elevate active-elevate-2\"\n                  onClick={() => handleToggleTag(tag)}\n                  data-testid={`tag-${tag}`}\n                >\n                  {convertText(tag)}\n                </Badge>\n              ))}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Desktop filters */}\n        <aside className=\"hidden md:block w-72 border-r bg-background\">\n          <FilterSidebar filters={filters} onFilterChange={setFilters} />\n        </aside>\n\n        {/* School list */}\n        <main className=\"flex-1 overflow-auto\">\n          <div className=\"p-4 md:p-6 pb-32\">\n            <div className=\"mb-6\">\n              <p className=\"text-muted-foreground\" data-testid=\"text-schools-count\">\n                {filteredSchools.length} {t.schoolsFound}\n              </p>\n            </div>\n\n            {isLoading ? (\n              <div className=\"text-center py-12\">\n                <p className=\"text-xl font-medium mb-2\">{language === 'tc' ? '載入中...' : '载入中...'}</p>\n                <p className=\"text-muted-foreground\">{language === 'tc' ? '正在載入學校資料' : '正在载入学校资料'}</p>\n              </div>\n            ) : filteredSchools.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <p className=\"text-xl font-medium mb-2\">{t.noSchools}</p>\n                <p className=\"text-muted-foreground\">{t.noSchoolsDesc}</p>\n              </div>\n            ) : (\n              <>\n                {/* Ad banner before first school */}\n                <div className=\"mb-6 flex justify-center\">\n                  <AdBanner />\n                </div>\n                \n                <div className=\"border rounded-md overflow-hidden\">\n                  {filteredSchools.map((school, index) => (\n                    <Fragment key={school.id}>\n                      <SchoolListItem\n                        school={school}\n                        onViewDetails={handleViewDetails}\n                        isSelected={selectedSchools.some(s => s.id === school.id)}\n                        onToggleSelect={handleToggleSelect}\n                      />\n                      {/* Insert ad after every 10th school */}\n                      {(index + 1) % 10 === 0 && index < filteredSchools.length - 1 && (\n                        <div className=\"border-t p-4 flex justify-center bg-muted/20\">\n                          <AdBanner />\n                        </div>\n                      )}\n                    </Fragment>\n                  ))}\n                </div>\n              </>\n            )}\n            \n            {/* Disclaimer footer */}\n            <div className=\"mt-8 pt-4 border-t text-center\">\n              <p className=\"text-xs text-muted-foreground\">\n                {convertText('以上資料取自《小學概覽》2025，只供參考，所有資訊應以學校官方公布作準')}\n              </p>\n            </div>\n          </div>\n        </main>\n      </div>\n\n      {/* Comparison bar */}\n      <ComparisonBar\n        selectedSchools={selectedSchools}\n        onRemove={handleRemoveFromComparison}\n        onClear={() => setSelectedSchools([])}\n        onCompare={handleCompare}\n      />\n    </div>\n  );\n}\n","size_bytes":15072},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/examples/FilterSidebar.tsx":{"content":"import { useState } from 'react';\nimport FilterSidebar from '../FilterSidebar';\nimport { LanguageProvider } from '@/contexts/LanguageContext';\nimport type { FilterState } from '@shared/school-schema';\n\nexport default function FilterSidebarExample() {\n  const [filters, setFilters] = useState<FilterState>({\n    區域: [],\n    學校類別1: [],\n    學生性別: [],\n    宗教: [],\n    教學語言: [],\n    校網: [],\n    師資: [],\n    searchQuery: '',\n  });\n\n  return (\n    <LanguageProvider>\n      <div className=\"h-screen\">\n        <FilterSidebar filters={filters} onFilterChange={setFilters} />\n      </div>\n    </LanguageProvider>\n  );\n}\n","size_bytes":649},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ComparisonBar.tsx":{"content":"import { X } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport type { School } from '@shared/school-schema';\n\ninterface ComparisonBarProps {\n  selectedSchools: School[];\n  onRemove: (school: School) => void;\n  onClear: () => void;\n  onCompare: () => void;\n}\n\nexport default function ComparisonBar({ selectedSchools, onRemove, onClear, onCompare }: ComparisonBarProps) {\n  const { t, convertText } = useLanguage();\n\n  if (selectedSchools.length === 0) return null;\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 bg-card border-t shadow-lg z-50\">\n      <div className=\"max-w-7xl mx-auto px-4 md:px-6 py-4\">\n        <div className=\"flex flex-col md:flex-row items-start md:items-center gap-4\">\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <span className=\"font-medium text-sm\">\n                {t.comparing} {selectedSchools.length} {selectedSchools.length === 1 ? '' : ''}{t.schoolsFound}\n              </span>\n              {selectedSchools.length >= 4 && (\n                <Badge variant=\"secondary\" className=\"text-xs\">\n                  {t.maxComparison}\n                </Badge>\n              )}\n            </div>\n            <div className=\"flex flex-wrap gap-2\">\n              {selectedSchools.map((school) => (\n                <Badge\n                  key={school.id}\n                  variant=\"default\"\n                  className=\"gap-1 py-1.5\"\n                  data-testid={`badge-selected-${school.id}`}\n                >\n                  <span className=\"max-w-[200px] truncate\">\n                    {convertText(school.學校名稱)}\n                  </span>\n                  <button\n                    onClick={() => onRemove(school)}\n                    className=\"hover-elevate active-elevate-2 rounded-sm\"\n                    data-testid={`button-remove-comparison-${school.id}`}\n                  >\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </Badge>\n              ))}\n            </div>\n          </div>\n          <div className=\"flex gap-2 w-full md:w-auto\">\n            <Button\n              variant=\"outline\"\n              onClick={onClear}\n              className=\"flex-1 md:flex-none\"\n              data-testid=\"button-clear-comparison\"\n            >\n              {t.clearComparison}\n            </Button>\n            <Button\n              onClick={onCompare}\n              disabled={selectedSchools.length < 2}\n              className=\"flex-1 md:flex-none\"\n              data-testid=\"button-compare-schools\"\n            >\n              {t.compareSchools}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":2836},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // API endpoint to fetch Open Graph metadata from a URL\n  // Security: Only allows whitelisted domains to prevent SSRF attacks\n  app.get(\"/api/og-metadata\", async (req, res) => {\n    try {\n      const url = req.query.url as string;\n      if (!url) {\n        return res.status(400).json({ error: \"URL parameter is required\" });\n      }\n\n      // SECURITY: Whitelist allowed domains to prevent SSRF\n      const allowedDomains = ['hk01.com', 'www.hk01.com'];\n      let parsedUrl;\n      try {\n        parsedUrl = new URL(url);\n      } catch {\n        return res.status(400).json({ error: \"Invalid URL\" });\n      }\n\n      if (!allowedDomains.includes(parsedUrl.hostname)) {\n        return res.status(403).json({ error: \"Domain not allowed\" });\n      }\n\n      // Fetch with timeout to prevent hanging\n      const controller = new AbortController();\n      const timeout = setTimeout(() => controller.abort(), 5000); // 5 second timeout\n\n      const response = await fetch(url, { signal: controller.signal });\n      clearTimeout(timeout);\n\n      const html = await response.text();\n\n      // Parse Open Graph meta tags\n      const ogImage = html.match(/<meta[^>]*property=[\"']og:image[\"'][^>]*content=[\"']([^\"']*)[\"']/i)?.[1] || '';\n      const ogTitle = html.match(/<meta[^>]*property=[\"']og:title[\"'][^>]*content=[\"']([^\"']*)[\"']/i)?.[1] || '';\n      const ogDescription = html.match(/<meta[^>]*property=[\"']og:description[\"'][^>]*content=[\"']([^\"']*)[\"']/i)?.[1] || '';\n\n      res.json({\n        ogImage,\n        ogTitle,\n        ogDescription,\n      });\n    } catch (error) {\n      console.error('Error fetching OG metadata:', error);\n      if (error instanceof Error && error.name === 'AbortError') {\n        res.status(504).json({ error: \"Request timeout\" });\n      } else {\n        res.status(500).json({ error: \"Failed to fetch OG metadata\" });\n      }\n    }\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","size_bytes":2130},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { LanguageProvider } from \"@/contexts/LanguageContext\";\nimport Home from \"@/pages/Home\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <LanguageProvider>\n          <Toaster />\n          <Router />\n        </LanguageProvider>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":821},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/SchoolListItem.tsx":{"content":"import { MapPin, Users, ChevronRight, Newspaper } from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport type { School } from '@shared/school-schema';\n\ninterface SchoolListItemProps {\n  school: School;\n  onViewDetails: (school: School) => void;\n  isSelected?: boolean;\n  onToggleSelect?: (school: School) => void;\n}\n\nexport default function SchoolListItem({ school, onViewDetails, isSelected, onToggleSelect }: SchoolListItemProps) {\n  const { t, convertText } = useLanguage();\n\n  return (\n    <div\n      className=\"flex items-center gap-3 p-3 border-b hover-elevate active-elevate-2 cursor-pointer\"\n      onClick={() => onViewDetails(school)}\n      data-testid={`list-item-school-${school.id}`}\n    >\n      {onToggleSelect && (\n        <div onClick={(e) => e.stopPropagation()}>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <div>\n                <Checkbox\n                  checked={isSelected}\n                  onCheckedChange={() => onToggleSelect(school)}\n                  data-testid={`checkbox-select-school-${school.id}`}\n                />\n              </div>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>{t.selectToCompare}</p>\n            </TooltipContent>\n          </Tooltip>\n        </div>\n      )}\n      \n      <div className=\"flex-1 min-w-0\">\n        <h3 className=\"font-medium text-sm leading-tight line-clamp-1\" data-testid={`text-school-name-${school.id}`}>\n          {convertText(school.學校名稱)}\n        </h3>\n        \n        <div className=\"flex items-center gap-2 mt-1 text-xs text-muted-foreground\">\n          <div className=\"flex items-center gap-1\">\n            <MapPin className=\"h-3 w-3\" />\n            <span className=\"line-clamp-1\">{convertText(school.區域)}</span>\n          </div>\n          {school.學生性別 && (\n            <>\n              <span className=\"text-muted-foreground/40\">•</span>\n              <div className=\"flex items-center gap-1\">\n                <Users className=\"h-3 w-3\" />\n                <span>{convertText(school.學生性別)}</span>\n              </div>\n            </>\n          )}\n        </div>\n        \n        <div className=\"flex items-center gap-1.5 mt-1.5 flex-wrap\">\n          <Badge variant=\"secondary\" className=\"text-xs py-0 h-5\">\n            {convertText(school.學校類別1)}\n          </Badge>\n          {school.宗教 && school.宗教 !== '不適用' && (\n            <Badge variant=\"outline\" className=\"text-xs py-0 h-5\">\n              {convertText(school.宗教)}\n            </Badge>\n          )}\n          {school.小一學校網 && school.小一學校網 !== '/' && (\n            <Badge variant=\"outline\" className=\"text-xs py-0 h-5\">\n              {t.schoolNetwork} {school.小一學校網}\n            </Badge>\n          )}\n          {school.articles && school.articles.length > 0 && (\n            <Badge variant=\"default\" className=\"text-xs py-0 h-5 gap-1\" data-testid={`badge-articles-${school.id}`}>\n              <Newspaper className=\"h-3 w-3\" />\n              <span>{convertText('新聞')} ({school.articles.length})</span>\n            </Badge>\n          )}\n        </div>\n      </div>\n      \n      <ChevronRight className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\n    </div>\n  );\n}\n","size_bytes":3465},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/contexts/LanguageContext.tsx":{"content":"import { createContext, useContext, useState, ReactNode } from 'react';\nimport { Language, translations, convertToSimplified } from '@/lib/i18n';\n\ninterface LanguageContextType {\n  language: Language;\n  toggleLanguage: () => void;\n  t: typeof translations.tc;\n  convertText: (text: string) => string;\n}\n\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined);\n\nexport function LanguageProvider({ children }: { children: ReactNode }) {\n  const [language, setLanguage] = useState<Language>('tc');\n\n  const toggleLanguage = () => {\n    setLanguage(prev => prev === 'tc' ? 'sc' : 'tc');\n  };\n\n  const convertText = (text: string) => {\n    return language === 'sc' ? convertToSimplified(text) : text;\n  };\n\n  return (\n    <LanguageContext.Provider value={{\n      language,\n      toggleLanguage,\n      t: translations[language],\n      convertText,\n    }}>\n      {children}\n    </LanguageContext.Provider>\n  );\n}\n\nexport function useLanguage() {\n  const context = useContext(LanguageContext);\n  if (!context) {\n    throw new Error('useLanguage must be used within LanguageProvider');\n  }\n  return context;\n}\n","size_bytes":1128},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n","size_bytes":584},"client/src/components/examples/SchoolCard.tsx":{"content":"import SchoolCard from '../SchoolCard';\nimport { LanguageProvider } from '@/contexts/LanguageContext';\nimport { mockSchools } from '@/lib/mockSchools';\n\nexport default function SchoolCardExample() {\n  const handleViewDetails = (school: any) => {\n    console.log('View details:', school);\n  };\n\n  const handleToggleSelect = (school: any) => {\n    console.log('Toggle select:', school);\n  };\n\n  return (\n    <LanguageProvider>\n      <div className=\"p-6 max-w-sm\">\n        <SchoolCard\n          school={mockSchools[0]}\n          onViewDetails={handleViewDetails}\n          isSelected={false}\n          onToggleSelect={handleToggleSelect}\n        />\n      </div>\n    </LanguageProvider>\n  );\n}\n","size_bytes":690},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n  --opaque-button-border-intensity: -8;\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n  --background: 0 0% 100%;\n  --foreground: 0 0% 9%;\n  --border: 0 0% 90%;\n  --card: 0 0% 98%;\n  --card-foreground: 0 0% 9%;\n  --card-border: 0 0% 94%;\n  --sidebar: 0 0% 96%;\n  --sidebar-foreground: 0 0% 9%;\n  --sidebar-border: 0 0% 92%;\n  --sidebar-primary: 211 100% 45%;\n  --sidebar-primary-foreground: 0 0% 98%;\n  --sidebar-accent: 0 0% 91%;\n  --sidebar-accent-foreground: 0 0% 9%;\n  --sidebar-ring: 211 100% 45%;\n  --popover: 0 0% 95%;\n  --popover-foreground: 0 0% 9%;\n  --popover-border: 0 0% 91%;\n  --primary: 211 100% 45%;\n  --primary-foreground: 0 0% 98%;\n  --secondary: 0 0% 92%;\n  --secondary-foreground: 0 0% 9%;\n  --muted: 0 0% 93%;\n  --muted-foreground: 0 0% 40%;\n  --accent: 210 5% 94%;\n  --accent-foreground: 0 0% 9%;\n  --destructive: 0 84% 42%;\n  --destructive-foreground: 0 0% 98%;\n  --input: 0 0% 75%;\n  --ring: 211 100% 45%;\n  --chart-1: 211 100% 35%;\n  --chart-2: 195 85% 38%;\n  --chart-3: 173 70% 35%;\n  --chart-4: 43 90% 42%;\n  --chart-5: 27 85% 48%;\n  --font-sans: 'Noto Sans TC', 'Noto Sans SC', system-ui, -apple-system, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --radius: .5rem;\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n  --opaque-button-border-intensity: 9;\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n  --background: 0 0% 9%;\n  --foreground: 0 0% 98%;\n  --border: 0 0% 18%;\n  --card: 0 0% 11%;\n  --card-foreground: 0 0% 98%;\n  --card-border: 0 0% 14%;\n  --sidebar: 0 0% 13%;\n  --sidebar-foreground: 0 0% 98%;\n  --sidebar-border: 0 0% 16%;\n  --sidebar-primary: 211 100% 50%;\n  --sidebar-primary-foreground: 0 0% 98%;\n  --sidebar-accent: 0 0% 17%;\n  --sidebar-accent-foreground: 0 0% 98%;\n  --sidebar-ring: 211 100% 50%;\n  --popover: 0 0% 15%;\n  --popover-foreground: 0 0% 98%;\n  --popover-border: 0 0% 18%;\n  --primary: 211 100% 50%;\n  --primary-foreground: 0 0% 98%;\n  --secondary: 0 0% 19%;\n  --secondary-foreground: 0 0% 98%;\n  --muted: 0 0% 18%;\n  --muted-foreground: 0 0% 65%;\n  --accent: 210 5% 17%;\n  --accent-foreground: 0 0% 98%;\n  --destructive: 0 84% 42%;\n  --destructive-foreground: 0 0% 98%;\n  --input: 0 0% 30%;\n  --ring: 211 100% 50%;\n  --chart-1: 211 100% 60%;\n  --chart-2: 195 85% 65%;\n  --chart-3: 173 70% 60%;\n  --chart-4: 43 90% 65%;\n  --chart-5: 27 85% 68%;\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 1px 2px -1px hsl(0 0% 0% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 2px 4px -1px hsl(0 0% 0% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 4px 6px -1px hsl(0 0% 0% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00), 0px 8px 10px -1px hsl(0 0% 0% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.00);\n\n/* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}\n","size_bytes":10585},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/examples/ComparisonBar.tsx":{"content":"import { useState } from 'react';\nimport ComparisonBar from '../ComparisonBar';\nimport { LanguageProvider } from '@/contexts/LanguageContext';\nimport { mockSchools } from '@/lib/mockSchools';\n\nexport default function ComparisonBarExample() {\n  const [selected, setSelected] = useState(mockSchools.slice(0, 2));\n\n  const handleRemove = (school: any) => {\n    setSelected(prev => prev.filter(s => s.id !== school.id));\n  };\n\n  const handleClear = () => {\n    setSelected([]);\n  };\n\n  const handleCompare = () => {\n    console.log('Comparing schools:', selected);\n  };\n\n  return (\n    <LanguageProvider>\n      <div className=\"h-screen relative\">\n        <div className=\"p-6\">\n          <p className=\"text-muted-foreground\">Comparison bar shown at bottom</p>\n        </div>\n        <ComparisonBar\n          selectedSchools={selected}\n          onRemove={handleRemove}\n          onClear={handleClear}\n          onCompare={handleCompare}\n        />\n      </div>\n    </LanguageProvider>\n  );\n}\n","size_bytes":987},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/examples/SearchBar.tsx":{"content":"import { useState } from 'react';\nimport SearchBar from '../SearchBar';\nimport { LanguageProvider } from '@/contexts/LanguageContext';\n\nexport default function SearchBarExample() {\n  const [search, setSearch] = useState('');\n\n  return (\n    <LanguageProvider>\n      <div className=\"p-6 max-w-md\">\n        <SearchBar value={search} onChange={setSearch} />\n      </div>\n    </LanguageProvider>\n  );\n}\n","size_bytes":399},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"design_guidelines.md":{"content":"# Hong Kong Primary School Filter - Design Guidelines\n\n## Design Approach: Design System Foundation\n\n**Selected System**: Material Design with Carbon Design influences for data-intensive components\n**Rationale**: This is a utility-focused, information-dense application requiring robust data display patterns, efficient filtering mechanisms, and clear information hierarchy. Material Design provides excellent component libraries while Carbon Design principles enhance data table and comparison interfaces.\n\n**Key Principles**:\n- Clarity over decoration - every element serves a functional purpose\n- Efficient information scanning with strong visual hierarchy\n- Touch-friendly controls for mobile filtering\n- Bilingual text optimization for Chinese characters\n\n---\n\n## Typography System\n\n**Chinese Font Families**:\n- Primary: 'Noto Sans TC' (Traditional Chinese) / 'Noto Sans SC' (Simplified Chinese) via Google Fonts\n- Fallback: system-ui, -apple-system\n\n**Type Scale**:\n- Page Headers: text-3xl (30px) font-semibold\n- Section Headers: text-xl (20px) font-semibold  \n- Card Titles/School Names: text-lg (18px) font-medium\n- Body/Data Labels: text-base (16px) font-normal\n- Secondary Info: text-sm (14px) font-normal\n- Captions/Meta: text-xs (12px) font-normal\n\n**Chinese-Specific Adjustments**:\n- Line height: leading-relaxed (1.625) for better character readability\n- Letter spacing: tracking-normal (default) - Chinese characters don't benefit from increased tracking\n\n---\n\n## Layout System\n\n**Spacing Primitives**: Use Tailwind units of 2, 4, 6, and 8 for consistency\n- Component padding: p-4, p-6\n- Section spacing: space-y-6, space-y-8\n- Card gaps: gap-4, gap-6\n- Mobile padding: p-4 (desktop: p-6 or p-8)\n\n**Grid Structure**:\n```\nDesktop: \n- Main content area: max-w-7xl mx-auto px-6\n- Filter sidebar: w-72 (288px) fixed on left\n- Content area: flex-1 with responsive grid\n\nMobile:\n- Full width with collapsible filter drawer\n- Single column card layout\n- Sticky filter button at bottom\n```\n\n**Responsive Breakpoints**:\n- Mobile: base (default)\n- Tablet: md: (768px) - 2-column grid\n- Desktop: lg: (1024px) - sidebar + 2-3 column grid\n- Large: xl: (1280px) - sidebar + 3-4 column grid\n\n---\n\n## Component Library\n\n### Navigation & Header\n- **Top Navigation Bar**: Sticky header with logo, language toggle (繁/简), search bar\n- Height: h-16 (64px)\n- Language toggle: Pill-style button with smooth transition\n- Search: Full-width on mobile, 40% width on desktop with icon\n\n### Filter System\n- **Desktop**: Fixed sidebar with collapsible filter groups\n- **Mobile**: Bottom sheet drawer triggered by floating action button\n- Filter groups: Accordion-style with chevron indicators\n- Checkboxes: Material Design style with clear hit targets (min 44x44px)\n- Filter chips: Show active filters with remove (×) button\n- Clear all filters: Text link at top of filter area\n\n### School Cards\n- **Card Structure**: Elevated cards with rounded corners (rounded-lg)\n- Padding: p-6\n- School name: Large, bold at top\n- Key info grid: 2-column on mobile, 3-column on desktop\n- Icons: Use Material Icons for categories (location, type, gender, etc.)\n- Compare checkbox: Top-right corner\n- Action buttons: \"詳細資料\" (View Details) and \"比較\" (Compare)\n\n### Data Tables (Desktop)\n- Striped rows for easier scanning\n- Sortable column headers with arrow indicators\n- Sticky header row when scrolling\n- Minimum column widths to prevent text wrapping\n- Responsive: Convert to cards on mobile\n\n### Comparison View\n- Side-by-side layout (2-4 schools)\n- Sticky school names at top\n- Grouped attributes in rows\n- Highlight differences with subtle backgrounds\n- Mobile: Horizontal scroll with snap points\n\n### School Detail View\n- **Hero Section**: School name and key stats banner (not image-based)\n- **Tabbed Interface**: 基本資料 (Basic Info), 設施 (Facilities), 聯絡 (Contact), 收費 (Fees)\n- Info cards: Grouped by category with clear labels\n- Contact information: Clickable phone/email/website\n- Map integration: Embedded Google Maps for school location\n\n### Forms & Inputs\n- Search input: Autocomplete dropdown with school name suggestions\n- Selects/Dropdowns: Material-style with floating labels\n- Range sliders: For numeric filters (e.g., fees, student count)\n- All inputs: Consistent height h-12, rounded borders\n\n### Buttons\n- **Primary Actions**: Solid filled buttons (e.g., \"搜尋\", \"比較學校\")\n- **Secondary Actions**: Outlined buttons (e.g., \"重設\", \"取消\")\n- **Tertiary**: Text buttons for minor actions\n- Heights: h-10 or h-12 for better touch targets\n- Padding: px-6 py-2\n\n### Loading & Empty States\n- Loading: Skeleton screens matching card/table layouts\n- Empty results: Centered icon + message + \"Clear filters\" CTA\n- Error states: Alert-style messages with retry options\n\n### Mobile Optimization\n- Bottom navigation for main sections if needed\n- Swipeable cards in comparison view\n- Pull-to-refresh for data updates\n- Floating action button for quick filter access\n- Sticky \"比較\" (Compare) button when schools selected\n\n---\n\n## Interaction Patterns\n\n- **Filter application**: Real-time with debounced search (300ms)\n- **Sorting**: Single-click column headers, visual indicator for active sort\n- **Selection**: Multi-select with visible counter \"已選擇 X 所學校\"\n- **Navigation**: Breadcrumbs for detail views\n- **Transitions**: Quick, functional (150-200ms), minimal decorative animation\n\n---\n\n## Accessibility\n\n- All form inputs with proper labels (visible or aria-label)\n- Keyboard navigation: Tab order follows visual flow\n- Focus indicators: Clear outline on all interactive elements\n- Color contrast: WCAG AA minimum for all text\n- Screen reader: Proper heading hierarchy (h1-h6)\n- Touch targets: Minimum 44×44px for mobile\n\n---\n\n## Images\n\n**No hero images required** - this is a data-focused application where function takes priority.\n\n**Icon Usage**:\n- Material Icons via CDN for UI elements (search, filter, sort, close, etc.)\n- Category icons for school attributes (location pin, person icons for gender, building for type)\n- Consistent 20px or 24px sizes\n\n---\n\n## Key Design Differentiators\n\n- **Chinese-first typography** with proper character spacing\n- **Efficient data scanning** through strong hierarchy and grouping\n- **Mobile-optimized filtering** with bottom sheet pattern\n- **Clear comparison interface** highlighting differences\n- **Minimal decoration** - every pixel serves user goals","size_bytes":6440},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/components/examples/ComparisonView.tsx":{"content":"import { useState } from 'react';\nimport ComparisonView from '../ComparisonView';\nimport { LanguageProvider } from '@/contexts/LanguageContext';\nimport { mockSchools } from '@/lib/mockSchools';\n\nexport default function ComparisonViewExample() {\n  const [schools, setSchools] = useState(mockSchools.slice(0, 3));\n\n  const handleClose = () => {\n    console.log('Close comparison view');\n  };\n\n  const handleRemove = (school: any) => {\n    setSchools(prev => prev.filter(s => s.id !== school.id));\n  };\n\n  return (\n    <LanguageProvider>\n      <ComparisonView schools={schools} onClose={handleClose} onRemove={handleRemove} />\n    </LanguageProvider>\n  );\n}\n","size_bytes":655},"client/src/components/SchoolDetail.tsx":{"content":"import { X, MapPin, Phone, Mail, Globe, Users, BookOpen, Building2, DollarSign, GraduationCap, Calendar, Check } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Separator } from '@/components/ui/separator';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend } from 'recharts';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport type { School } from '@shared/school-schema';\nimport ArticleCarousel from './ArticleCarousel';\nimport AdBanner from './AdBanner';\n\ninterface SchoolDetailProps {\n  school: School;\n  onClose: () => void;\n}\n\n// Color palette for charts\nconst CHART_COLORS = {\n  trained: '#10b981',    // green\n  bachelor: '#3b82f6',   // blue\n  master: '#8b5cf6',     // purple\n  special: '#f59e0b',    // amber\n  exp0to4: '#06b6d4',    // cyan\n  exp5to9: '#8b5cf6',    // purple\n  exp10plus: '#10b981',  // green\n};\n\nexport default function SchoolDetail({ school, onClose }: SchoolDetailProps) {\n  const { t, convertText, language } = useLanguage();\n\n  // Helper: Parse percentage string safely\n  const parsePercent = (value?: string) => {\n    if (!value || value === '未有資料' || value === '-') return null;\n    const num = parseFloat(value.replace('%', ''));\n    return isNaN(num) ? null : num;\n  };\n\n  // Helper: Format supervisor/principal name with title\n  const formatName = (title?: string, name?: string): string | undefined => {\n    if (!name || name === '-') return undefined;\n    if (!title || title === '-') return name;\n    return `${name}${title}`;\n  };\n\n  const InfoRow = ({ label, value, icon: Icon, isHtml }: { label: string; value?: string; icon?: any; isHtml?: boolean }) => {\n    if (!value || value === '-') return null;\n    \n    return (\n      <div className=\"flex gap-3 py-2\">\n        {Icon && <Icon className=\"h-4 w-4 text-muted-foreground flex-shrink-0 mt-0.5\" />}\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"text-xs text-muted-foreground mb-1\">{label}</p>\n          {isHtml ? (\n            <div \n              className=\"text-sm leading-relaxed [&_br]:block [&_br]:my-1\"\n              dangerouslySetInnerHTML={{ __html: convertText(value) }}\n            />\n          ) : (\n            <p className=\"text-sm leading-relaxed\">{convertText(value)}</p>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  // Helper: Check if value is affirmative (yes)\n  const isAffirmative = (value?: string): boolean => {\n    return value === '是' || value === '有';\n  };\n\n  // Helper: Render HTML content safely\n  const HtmlContent = ({ content }: { content: string }) => {\n    return (\n      <div \n        className=\"text-sm leading-relaxed [&_br]:block [&_br]:my-1\"\n        dangerouslySetInnerHTML={{ __html: convertText(content) }}\n      />\n    );\n  };\n\n  // Prepare teacher qualification chart data (4 bars)\n  const getQualificationChartData = () => {\n    const data = [];\n    \n    const trainedPercent = parsePercent(school.已接受師資培訓人數百分率);\n    if (trainedPercent !== null) {\n      data.push({ name: t.trained, value: trainedPercent, color: CHART_COLORS.trained });\n    }\n    \n    const bachelorPercent = parsePercent(school.學士人數百分率);\n    if (bachelorPercent !== null) {\n      data.push({ name: t.bachelor, value: bachelorPercent, color: CHART_COLORS.bachelor });\n    }\n    \n    const masterPercent = parsePercent(school.碩士博士或以上人數百分率);\n    if (masterPercent !== null) {\n      data.push({ name: t.master, value: masterPercent, color: CHART_COLORS.master });\n    }\n    \n    const specialPercent = parsePercent(school.特殊教育培訓人數百分率);\n    if (specialPercent !== null) {\n      data.push({ name: t.specialEducation, value: specialPercent, color: CHART_COLORS.special });\n    }\n    \n    return data;\n  };\n\n  // Prepare teacher experience pie chart data (3 segments)\n  const getExperienceChartData = () => {\n    const data = [];\n    \n    const exp0to4 = parsePercent(school[\"0至4年年資人數百分率\"]);\n    if (exp0to4 !== null) {\n      data.push({ name: t.experience0to4, value: exp0to4, color: CHART_COLORS.exp0to4 });\n    }\n    \n    const exp5to9 = parsePercent(school[\"5至9年年資人數百分率\"]);\n    if (exp5to9 !== null) {\n      data.push({ name: t.experience5to9, value: exp5to9, color: CHART_COLORS.exp5to9 });\n    }\n    \n    const exp10plus = parsePercent(school[\"10年年資或以上人數百分率\"]);\n    if (exp10plus !== null) {\n      data.push({ name: t.experience10plus, value: exp10plus, color: CHART_COLORS.exp10plus });\n    }\n    \n    return data;\n  };\n\n  const qualificationChartData = getQualificationChartData();\n  const experienceChartData = getExperienceChartData();\n\n  // Generate Google Maps embed URL\n  const getMapUrl = () => {\n    if (!school.學校名稱) return null;\n    const schoolName = encodeURIComponent(school.學校名稱);\n    const apiKey = import.meta.env.VITE_GOOGLE_MAPS_API_KEY || '';\n    \n    if (apiKey) {\n      return `https://www.google.com/maps/embed/v1/place?key=${apiKey}&q=${schoolName}`;\n    } else {\n      return `https://www.google.com/maps?q=${schoolName}&output=embed`;\n    }\n  };\n\n  const mapUrl = getMapUrl();\n\n  return (\n    <div className=\"fixed inset-0 bg-background z-50 flex flex-col\">\n      <div className=\"flex items-center justify-between p-4 md:p-6 border-b\">\n        <div className=\"flex-1 min-w-0 pr-4\">\n          <h1 className=\"text-xl md:text-2xl font-semibold leading-relaxed\" data-testid=\"text-school-detail-name\">\n            {convertText(school.學校名稱)}\n          </h1>\n          <div className=\"flex flex-wrap gap-2 mt-2\">\n            <Badge variant=\"secondary\">{convertText(school.學校類別1)}</Badge>\n            <Badge variant=\"outline\">{convertText(school.區域)}</Badge>\n            {school.宗教 && school.宗教 !== '不適用' && (\n              <Badge variant=\"outline\">{convertText(school.宗教)}</Badge>\n            )}\n            {school.小一學校網 && school.小一學校網 !== '/' && (\n              <Badge variant=\"outline\">{t.schoolNetwork} {school.小一學校網}</Badge>\n            )}\n          </div>\n        </div>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={onClose}\n          data-testid=\"button-close-detail\"\n        >\n          <X className=\"h-5 w-5\" />\n        </Button>\n      </div>\n\n      <ScrollArea className=\"flex-1\">\n        {/* Article Carousel - Full-width responsive display */}\n        {school.articles && school.articles.length > 0 && (\n          <div className=\"w-full\">\n            <ArticleCarousel articles={school.articles} />\n          </div>\n        )}\n        \n        <div className=\"max-w-5xl mx-auto p-4 md:p-6\">\n          <Tabs defaultValue=\"basic\" className=\"w-full\">\n            <TabsList className=\"sticky top-0 z-50 grid w-full grid-cols-3 [@media(min-width:768px)]:grid-cols-9 gap-1 mb-6 bg-card border-b shadow-sm p-2 h-auto min-h-fit\">\n              <TabsTrigger value=\"basic\" data-testid=\"tab-basic\" className=\"text-xs\">{t.basicInfo}</TabsTrigger>\n              <TabsTrigger value=\"philosophy\" data-testid=\"tab-philosophy\" className=\"text-xs\">{t.schoolPhilosophy}</TabsTrigger>\n              <TabsTrigger value=\"homework\" data-testid=\"tab-homework\" className=\"text-xs\">{t.homeworkArrangement}</TabsTrigger>\n              <TabsTrigger value=\"teaching-features\" data-testid=\"tab-teaching\" className=\"text-xs\">{t.teachingFeatures}</TabsTrigger>\n              <TabsTrigger value=\"facilities\" data-testid=\"tab-facilities\" className=\"text-xs\">{t.facilities}</TabsTrigger>\n              <TabsTrigger value=\"classes\" data-testid=\"tab-classes\" className=\"text-xs\">{t.classDistribution}</TabsTrigger>\n              <TabsTrigger value=\"teachers\" data-testid=\"tab-teachers\" className=\"text-xs\">{t.teachers}</TabsTrigger>\n              <TabsTrigger value=\"fees\" data-testid=\"tab-fees\" className=\"text-xs\">{t.fees}</TabsTrigger>\n              <TabsTrigger value=\"contact\" data-testid=\"tab-contact\" className=\"text-xs\">{t.contactAndLocation}</TabsTrigger>\n            </TabsList>\n\n            {/* Ad banner below tab navigation */}\n            <div className=\"flex justify-center mb-6\">\n              <AdBanner />\n            </div>\n\n            <TabsContent value=\"basic\" className=\"space-y-3 pt-4\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-base\">{t.schoolInfo}</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-1\">\n                  <InfoRow label={t.schoolName} value={school.學校名稱} />\n                  <Separator />\n                  <InfoRow label={t.region} value={school.區域} icon={MapPin} />\n                  <Separator />\n                  <InfoRow label={t.schoolType} value={school.學校類別1} icon={Building2} />\n                  <Separator />\n                  <InfoRow label={t.gender} value={school.學生性別} icon={Users} />\n                  <Separator />\n                  <InfoRow label={t.language} value={school.教學語言} icon={BookOpen} />\n                  <Separator />\n                  <InfoRow label={t.religion} value={school.宗教} />\n                  <Separator />\n                  <InfoRow label={t.establishedYear} value={school.創校年份} icon={Calendar} />\n                  <Separator />\n                  <InfoRow label={t.schoolArea} value={school.學校佔地面積} />\n                </CardContent>\n              </Card>\n\n              {/* Management Body Card */}\n              {(() => {\n                const hasManagementData = \n                  formatName(school.校監_校管會主席稱謂, school.校監_校管會主席姓名) ||\n                  formatName(school.校長稱謂, school.校長姓名) ||\n                  (school.辦學團體 && school.辦學團體 !== '-') ||\n                  (school.法團校董會 && school.法團校董會 !== '-') ||\n                  (school.家長教師會 && school.家長教師會 !== '-') ||\n                  (school.校監和校董_校管會主席和成員的培訓達標率 && school.校監和校董_校管會主席和成員的培訓達標率 !== '-') ||\n                  (school.學校管理架構 && school.學校管理架構 !== '-') ||\n                  (school.法團校董會_校管會_校董會 && school.法團校董會_校管會_校董會 !== '-') ||\n                  (school.舊生會_校友會 && school.舊生會_校友會 !== '-');\n\n                if (!hasManagementData) return null;\n\n                return (\n                  <Card data-testid=\"card-management-body\">\n                    <CardHeader>\n                      <CardTitle className=\"text-base\">{t.managementBody}</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-1\">\n                      <InfoRow label={t.sponsoringBody} value={school.辦學團體} />\n                      {(school.辦學團體 && school.辦學團體 !== '-') && \n                        (formatName(school.校監_校管會主席稱謂, school.校監_校管會主席姓名) || formatName(school.校長稱謂, school.校長姓名) || \n                         (school.學校管理架構 && school.學校管理架構 !== '-') || (school.法團校董會_校管會_校董會 && school.法團校董會_校管會_校董會 !== '-') ||\n                         (school.法團校董會 && school.法團校董會 !== '-') || (school.校監和校董_校管會主席和成員的培訓達標率 && school.校監和校董_校管會主席和成員的培訓達標率 !== '-') ||\n                         (school.家長教師會 && school.家長教師會 !== '-') || (school.舊生會_校友會 && school.舊生會_校友會 !== '-')) && <Separator />}\n                      <InfoRow label={t.supervisor} value={formatName(school.校監_校管會主席稱謂, school.校監_校管會主席姓名)} />\n                      {formatName(school.校監_校管會主席稱謂, school.校監_校管會主席姓名) && \n                        (formatName(school.校長稱謂, school.校長姓名) || (school.學校管理架構 && school.學校管理架構 !== '-') || \n                         (school.法團校董會_校管會_校董會 && school.法團校董會_校管會_校董會 !== '-') || (school.法團校董會 && school.法團校董會 !== '-') || \n                         (school.校監和校董_校管會主席和成員的培訓達標率 && school.校監和校董_校管會主席和成員的培訓達標率 !== '-') ||\n                         (school.家長教師會 && school.家長教師會 !== '-') || (school.舊生會_校友會 && school.舊生會_校友會 !== '-')) && <Separator />}\n                      <InfoRow label={t.principal} value={formatName(school.校長稱謂, school.校長姓名)} />\n                      {formatName(school.校長稱謂, school.校長姓名) && \n                        ((school.學校管理架構 && school.學校管理架構 !== '-') || (school.法團校董會_校管會_校董會 && school.法團校董會_校管會_校董會 !== '-') || \n                         (school.法團校董會 && school.法團校董會 !== '-') || (school.校監和校董_校管會主席和成員的培訓達標率 && school.校監和校董_校管會主席和成員的培訓達標率 !== '-') ||\n                         (school.家長教師會 && school.家長教師會 !== '-') || (school.舊生會_校友會 && school.舊生會_校友會 !== '-')) && <Separator />}\n                      <InfoRow label={t.managementStructure} value={school.學校管理架構} isHtml={true} />\n                      {(school.學校管理架構 && school.學校管理架構 !== '-') &&\n                        ((school.法團校董會_校管會_校董會 && school.法團校董會_校管會_校董會 !== '-') || (school.法團校董會 && school.法團校董會 !== '-') || \n                         (school.校監和校董_校管會主席和成員的培訓達標率 && school.校監和校董_校管會主席和成員的培訓達標率 !== '-') ||\n                         (school.家長教師會 && school.家長教師會 !== '-') || (school.舊生會_校友會 && school.舊生會_校友會 !== '-')) && <Separator />}\n                      <InfoRow label={t.schoolBoardDetail} value={school.法團校董會_校管會_校董會} isHtml={true} />\n                      {(school.法團校董會_校管會_校董會 && school.法團校董會_校管會_校董會 !== '-') &&\n                        ((school.法團校董會 && school.法團校董會 !== '-') || (school.校監和校董_校管會主席和成員的培訓達標率 && school.校監和校董_校管會主席和成員的培訓達標率 !== '-') ||\n                         (school.家長教師會 && school.家長教師會 !== '-') || (school.舊生會_校友會 && school.舊生會_校友會 !== '-')) && <Separator />}\n                      <InfoRow label={t.schoolBoard} value={school.法團校董會} isHtml={true} />\n                      {(school.法團校董會 && school.法團校董會 !== '-') && \n                        ((school.校監和校董_校管會主席和成員的培訓達標率 && school.校監和校董_校管會主席和成員的培訓達標率 !== '-') ||\n                         (school.家長教師會 && school.家長教師會 !== '-') || (school.舊生會_校友會 && school.舊生會_校友會 !== '-')) && <Separator />}\n                      <InfoRow label={t.supervisorTrainingRate} value={school.校監和校董_校管會主席和成員的培訓達標率} />\n                      {(school.校監和校董_校管會主席和成員的培訓達標率 && school.校監和校董_校管會主席和成員的培訓達標率 !== '-') &&\n                        ((school.家長教師會 && school.家長教師會 !== '-') || (school.舊生會_校友會 && school.舊生會_校友會 !== '-')) && <Separator />}\n                      <InfoRow label={t.pta} value={school.家長教師會} isHtml={true} />\n                      {(school.家長教師會 && school.家長教師會 !== '-') && \n                        (school.舊生會_校友會 && school.舊生會_校友會 !== '-') && <Separator />}\n                      <InfoRow label={t.alumniAssociation} value={school.舊生會_校友會} isHtml={true} />\n                    </CardContent>\n                  </Card>\n                );\n              })()}\n\n              {((school.學校類別2 && school.學校類別2 !== '-') ||\n                (school.一般上學時間 && school.一般上學時間 !== '-') || \n                (school.一般放學時間 && school.一般放學時間 !== '-') || \n                (school.校車 && school.校車 !== '-') || \n                (school.保姆車 && school.保姆車 !== '-')) && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">{language === 'tc' ? '上課時間及交通' : '上课时间及交通'}</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-1\">\n                    <InfoRow label={t.classTime} value={school.學校類別2} />\n                    {(school.學校類別2 && school.學校類別2 !== '-' && \n                      ((school.一般上學時間 && school.一般上學時間 !== '-') || \n                       (school.一般放學時間 && school.一般放學時間 !== '-') || \n                       (school.校車 && school.校車 !== '-') || \n                       (school.保姆車 && school.保姆車 !== '-'))) && <Separator />}\n                    <InfoRow label={t.generalArrivalTime} value={school.一般上學時間} />\n                    {(school.一般上學時間 && school.一般上學時間 !== '-' && \n                      ((school.一般放學時間 && school.一般放學時間 !== '-') || \n                       (school.校車 && school.校車 !== '-') || \n                       (school.保姆車 && school.保姆車 !== '-'))) && <Separator />}\n                    <InfoRow label={t.generalDismissalTime} value={school.一般放學時間} />\n                    {(school.一般放學時間 && school.一般放學時間 !== '-' && \n                      ((school.校車 && school.校車 !== '-') || \n                       (school.保姆車 && school.保姆車 !== '-'))) && <Separator />}\n                    <InfoRow label={t.schoolBus} value={school.校車} />\n                    {(school.校車 && school.校車 !== '-' && \n                      (school.保姆車 && school.保姆車 !== '-')) && <Separator />}\n                    <InfoRow label={t.nannyBus} value={school.保姆車} />\n                  </CardContent>\n                </Card>\n              )}\n\n              {((school.午膳開始時間 && school.午膳開始時間 !== '-') || \n                (school.午膳結束時間 && school.午膳結束時間 !== '-') || \n                (school.午膳安排 && school.午膳安排 !== '-')) && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">{language === 'tc' ? '午膳安排' : '午膳安排'}</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-1\">\n                    <InfoRow label={t.lunchStartTime} value={school.午膳開始時間} />\n                    {(school.午膳開始時間 && school.午膳開始時間 !== '-' && \n                      ((school.午膳結束時間 && school.午膳結束時間 !== '-') || \n                       (school.午膳安排 && school.午膳安排 !== '-'))) && <Separator />}\n                    <InfoRow label={t.lunchEndTime} value={school.午膳結束時間} />\n                    {(school.午膳結束時間 && school.午膳結束時間 !== '-' && \n                      (school.午膳安排 && school.午膳安排 !== '-')) && <Separator />}\n                    <InfoRow label={t.lunchArrangement} value={school.午膳安排} isHtml={true} />\n                  </CardContent>\n                </Card>\n              )}\n\n              {(school.一條龍中學 && school.一條龍中學 !== '-' || \n                school.直屬中學 && school.直屬中學 !== '-' || \n                school.聯繫中學 && school.聯繫中學 !== '-') && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">{t.linkedSchools}</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-2\">\n                    {school.一條龍中學 && school.一條龍中學 !== '-' && (\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-1\">{t.throughTrain}</p>\n                        <p className=\"text-sm\">{convertText(school.一條龍中學)}</p>\n                      </div>\n                    )}\n                    {school.直屬中學 && school.直屬中學 !== '-' && (\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-1\">{t.directSchools}</p>\n                        <p className=\"text-sm\">{convertText(school.直屬中學)}</p>\n                      </div>\n                    )}\n                    {school.聯繫中學 && school.聯繫中學 !== '-' && (\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-1\">{t.linkedSchools}</p>\n                        <p className=\"text-sm\">{convertText(school.聯繫中學)}</p>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"philosophy\" className=\"space-y-3 pt-4\">\n              {((school.校訓 && school.校訓 !== '-') || (school.辦學宗旨 && school.辦學宗旨 !== '-') || (school.校風 && school.校風 !== '-') || (school.學校發展計劃 && school.學校發展計劃 !== '-')) && (\n                <Card data-testid=\"card-philosophy\">\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">{language === 'tc' ? '辦學理念' : '办学理念'}</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-1\">\n                    {school.校訓 && school.校訓 !== '-' && (\n                      <>\n                        <div className=\"flex gap-3 py-2\">\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-xs text-muted-foreground mb-1\">{t.motto}</p>\n                            <HtmlContent content={school.校訓} />\n                          </div>\n                        </div>\n                        {((school.辦學宗旨 && school.辦學宗旨 !== '-') || (school.校風 && school.校風 !== '-') || (school.學校發展計劃 && school.學校發展計劃 !== '-')) && <Separator />}\n                      </>\n                    )}\n                    {school.辦學宗旨 && school.辦學宗旨 !== '-' && (\n                      <>\n                        <div className=\"flex gap-3 py-2\">\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-xs text-muted-foreground mb-1\">{t.mission}</p>\n                            <HtmlContent content={school.辦學宗旨} />\n                          </div>\n                        </div>\n                        {((school.校風 && school.校風 !== '-') || (school.學校發展計劃 && school.學校發展計劃 !== '-')) && <Separator />}\n                      </>\n                    )}\n                    {school.校風 && school.校風 !== '-' && (\n                      <>\n                        <div className=\"flex gap-3 py-2\">\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"text-xs text-muted-foreground mb-1\">{t.schoolCulture}</p>\n                            <HtmlContent content={school.校風} />\n                          </div>\n                        </div>\n                        {(school.學校發展計劃 && school.學校發展計劃 !== '-') && <Separator />}\n                      </>\n                    )}\n                    {school.學校發展計劃 && school.學校發展計劃 !== '-' && (\n                      <div className=\"flex gap-3 py-2\">\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.schoolDevelopmentPlan}</p>\n                          <HtmlContent content={school.學校發展計劃} />\n                        </div>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"homework\" className=\"space-y-3 pt-4\">\n              {(() => {\n                const hasHomeworkData = \n                  (school.班級教學模式 && school.班級教學模式 !== '-') ||\n                  (school.班級結構備註 && school.班級結構備註 !== '-') ||\n                  (school.分班安排 && school.分班安排 !== '-') ||\n                  (school.全年全科測驗次數_一年級 && school.全年全科測驗次數_一年級 !== '-') ||\n                  (school.全年全科考試次數_一年級 && school.全年全科考試次數_一年級 !== '-') ||\n                  (school.全年全科測驗次數_二至六年級 && school.全年全科測驗次數_二至六年級 !== '-') ||\n                  (school.全年全科考試次數_二至六年級 && school.全年全科考試次數_二至六年級 !== '-') ||\n                  (school.小一上學期以多元化的進展性評估代替測驗及考試 && school.小一上學期以多元化的進展性評估代替測驗及考試 !== '-') ||\n                  (school.制定適切的校本課業政策_讓家長了解相關安排_並定期蒐集教師_學生和家長的意見 && school.制定適切的校本課業政策_讓家長了解相關安排_並定期蒐集教師_學生和家長的意見 !== '-') ||\n                  (school.將校本評估政策上載至學校網頁_讓公眾及持份者知悉 && school.將校本評估政策上載至學校網頁_讓公眾及持份者知悉 !== '-') ||\n                  (school.將校本課業政策上載至學校網頁_讓公眾及持份者知悉 && school.將校本課業政策上載至學校網頁_讓公眾及持份者知悉 !== '-') ||\n                  (school.多元學習評估 && school.多元學習評估 !== '-') ||\n                  (school.避免緊接在長假期後安排測考_讓學生在假期有充分的休息 && school.避免緊接在長假期後安排測考_讓學生在假期有充分的休息 !== '-') ||\n                  (school.按校情靈活編排時間表_盡量在下午安排導修時段_讓學生能在教師指導下完成部分家課 && school.按校情靈活編排時間表_盡量在下午安排導修時段_讓學生能在教師指導下完成部分家課 !== '-');\n\n                if (!hasHomeworkData) return null;\n\n                return (\n                  <Card data-testid=\"card-homework-arrangement\">\n                    <CardHeader>\n                      <CardTitle className=\"text-base\">{t.homeworkArrangement}</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-3\">\n                      {((school.班級教學模式 && school.班級教學模式 !== '-') ||\n                        (school.班級結構備註 && school.班級結構備註 !== '-') ||\n                        (school.分班安排 && school.分班安排 !== '-')) && (\n                        <>\n                          <div className=\"space-y-2\">\n                            {school.班級教學模式 && school.班級教學模式 !== '-' && (\n                              <div data-testid=\"text-class-teaching-mode\">\n                                <p className=\"text-xs text-muted-foreground mb-1\">{t.classTeachingMode}</p>\n                                <HtmlContent content={school.班級教學模式} />\n                              </div>\n                            )}\n                            {school.班級結構備註 && school.班級結構備註 !== '-' && (\n                              <div data-testid=\"text-class-structure-remarks\">\n                                <p className=\"text-xs text-muted-foreground mb-1\">{t.classStructureRemarks}</p>\n                                <HtmlContent content={school.班級結構備註} />\n                              </div>\n                            )}\n                            {school.分班安排 && school.分班安排 !== '-' && (\n                              <div data-testid=\"text-class-arrangement\">\n                                <p className=\"text-xs text-muted-foreground mb-1\">{t.classArrangement}</p>\n                                <HtmlContent content={school.分班安排} />\n                              </div>\n                            )}\n                          </div>\n                          {((school.全年全科測驗次數_一年級 && school.全年全科測驗次數_一年級 !== '-') ||\n                            (school.全年全科考試次數_一年級 && school.全年全科考試次數_一年級 !== '-') ||\n                            (school.全年全科測驗次數_二至六年級 && school.全年全科測驗次數_二至六年級 !== '-') ||\n                            (school.全年全科考試次數_二至六年級 && school.全年全科考試次數_二至六年級 !== '-') ||\n                            isAffirmative(school.小一上學期以多元化的進展性評估代替測驗及考試)) && <Separator />}\n                        </>\n                      )}\n\n                      {((school.全年全科測驗次數_一年級 && school.全年全科測驗次數_一年級 !== '-') ||\n                        (school.全年全科考試次數_一年級 && school.全年全科考試次數_一年級 !== '-') ||\n                        (school.全年全科測驗次數_二至六年級 && school.全年全科測驗次數_二至六年級 !== '-') ||\n                        (school.全年全科考試次數_二至六年級 && school.全年全科考試次數_二至六年級 !== '-')) && (\n                        <>\n                          <div>\n                            <p className=\"text-xs text-muted-foreground mb-2\">{language === 'tc' ? '測考次數' : '测考次数'}</p>\n                            <Table data-testid=\"table-testing-schedule\">\n                              <TableHeader>\n                                <TableRow>\n                                  <TableHead className=\"text-xs font-medium\">{language === 'tc' ? '年級' : '年级'}</TableHead>\n                                  <TableHead className=\"text-xs font-medium text-right\">{language === 'tc' ? '測驗' : '测验'}</TableHead>\n                                  <TableHead className=\"text-xs font-medium text-right\">{language === 'tc' ? '考試' : '考试'}</TableHead>\n                                </TableRow>\n                              </TableHeader>\n                              <TableBody>\n                                <TableRow>\n                                  <TableCell className=\"text-sm\">{t.grade1}</TableCell>\n                                  <TableCell className=\"text-sm text-right\">\n                                    {convertText(school.全年全科測驗次數_一年級 && school.全年全科測驗次數_一年級 !== '-' ? school.全年全科測驗次數_一年級 : '-')}\n                                  </TableCell>\n                                  <TableCell className=\"text-sm text-right\">\n                                    {convertText(school.全年全科考試次數_一年級 && school.全年全科考試次數_一年級 !== '-' ? school.全年全科考試次數_一年級 : '-')}\n                                  </TableCell>\n                                </TableRow>\n                                <TableRow>\n                                  <TableCell className=\"text-sm\">{language === 'tc' ? '小二至六' : '小二至六'}</TableCell>\n                                  <TableCell className=\"text-sm text-right\">\n                                    {convertText(school.全年全科測驗次數_二至六年級 && school.全年全科測驗次數_二至六年級 !== '-' ? school.全年全科測驗次數_二至六年級 : '-')}\n                                  </TableCell>\n                                  <TableCell className=\"text-sm text-right\">\n                                    {convertText(school.全年全科考試次數_二至六年級 && school.全年全科考試次數_二至六年級 !== '-' ? school.全年全科考試次數_二至六年級 : '-')}\n                                  </TableCell>\n                                </TableRow>\n                              </TableBody>\n                            </Table>\n                          </div>\n                          {isAffirmative(school.小一上學期以多元化的進展性評估代替測驗及考試) && <Separator />}\n                        </>\n                      )}\n\n                      {isAffirmative(school.小一上學期以多元化的進展性評估代替測驗及考試) && (\n                        <div className=\"flex items-start gap-2\" data-testid=\"badge-policy-p1-alternative\">\n                          <Check className=\"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5\" />\n                          <p className=\"text-sm leading-relaxed\">{convertText(t.p1AlternativeAssessment)}</p>\n                        </div>\n                      )}\n\n                      {isAffirmative(school.將校本評估政策上載至學校網頁_讓公眾及持份者知悉) && (\n                        <div className=\"flex items-start gap-2\" data-testid=\"badge-policy-assessment-online\">\n                          <Check className=\"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5\" />\n                          <p className=\"text-sm leading-relaxed\">{convertText(t.assessmentPolicyOnline)}</p>\n                        </div>\n                      )}\n\n                      {isAffirmative(school.避免緊接在長假期後安排測考_讓學生在假期有充分的休息) && (\n                        <div className=\"flex items-start gap-2\" data-testid=\"badge-policy-avoid-test-holiday\">\n                          <Check className=\"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5\" />\n                          <p className=\"text-sm leading-relaxed\">{convertText(t.avoidTestAfterHoliday)}</p>\n                        </div>\n                      )}\n\n                      {(() => {\n                        const policyItems = [\n                          { key: 'afternoon-homework', field: school.按校情靈活編排時間表_盡量在下午安排導修時段_讓學生能在教師指導下完成部分家課, label: t.afternoonHomeworkTime },\n                          { key: 'diverse-assessment', field: school.多元學習評估, label: t.diverseLearningAssessment },\n                          { key: 'homework-parents', field: school.制定適切的校本課業政策_讓家長了解相關安排_並定期蒐集教師_學生和家長的意見, label: t.homeworkPolicyParents },\n                          { key: 'homework-online', field: school.將校本課業政策上載至學校網頁_讓公眾及持份者知悉, label: t.homeworkPolicyOnline },\n                        ].filter(item => isAffirmative(item.field));\n\n                        if (policyItems.length === 0) return null;\n\n                        return (\n                          <>\n                            {(isAffirmative(school.小一上學期以多元化的進展性評估代替測驗及考試) || \n                              isAffirmative(school.將校本評估政策上載至學校網頁_讓公眾及持份者知悉) ||\n                              isAffirmative(school.避免緊接在長假期後安排測考_讓學生在假期有充分的休息)) && <Separator />}\n                            <div className=\"space-y-2\">\n                              <p className=\"text-xs text-muted-foreground\">{language === 'tc' ? '教學政策' : '教学政策'}</p>\n                              <div className=\"space-y-2\">\n                                {policyItems.map(item => (\n                                  <div key={item.key} className=\"flex items-start gap-2\" data-testid={`badge-policy-${item.key}`}>\n                                    <Check className=\"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5\" />\n                                    <p className=\"text-sm leading-relaxed\">{convertText(item.label)}</p>\n                                  </div>\n                                ))}\n                              </div>\n                            </div>\n                          </>\n                        );\n                      })()}\n                    </CardContent>\n                  </Card>\n                );\n              })()}\n\n              {/* Student Support Section */}\n              {(() => {\n                const hasStudentSupportData = \n                  (school.全校參與照顧學生的多樣性 && school.全校參與照顧學生的多樣性 !== '-') ||\n                  (school.全校參與模式融合教育 && school.全校參與模式融合教育 !== '-') ||\n                  (school.非華語學生的教育支援 && school.非華語學生的教育支援 !== '-');\n\n                if (!hasStudentSupportData) return null;\n\n                return (\n                  <Card data-testid=\"card-student-support\">\n                    <CardHeader>\n                      <CardTitle className=\"text-base\">{language === 'tc' ? '學生支援' : '学生支援'}</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-2\">\n                      {school.全校參與照顧學生的多樣性 && school.全校參與照顧學生的多樣性 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.studentDiversity}</p>\n                          <HtmlContent content={school.全校參與照顧學生的多樣性} />\n                        </div>\n                      )}\n                      {school.全校參與模式融合教育 && school.全校參與模式融合教育 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.inclusiveEducation}</p>\n                          <HtmlContent content={school.全校參與模式融合教育} />\n                        </div>\n                      )}\n                      {school.非華語學生的教育支援 && school.非華語學生的教育支援 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.nonChineseSpeakingSupport}</p>\n                          <HtmlContent content={school.非華語學生的教育支援} />\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                );\n              })()}\n            </TabsContent>\n\n            <TabsContent value=\"teaching-features\" className=\"space-y-3 pt-4\">\n              {/* School Life & Activities Section */}\n              {(() => {\n                const hasSchoolLifeData = \n                  (school.健康校園生活 && school.健康校園生活 !== '-') ||\n                  (school.學校生活備註 && school.學校生活備註 !== '-') ||\n                  (school.全方位學習 && school.全方位學習 !== '-') ||\n                  (school.環保政策 && school.環保政策 !== '-') ||\n                  (school.學校關注事項 && school.學校關注事項 !== '-') ||\n                  (school.家校合作 && school.家校合作 !== '-') ||\n                  (school.學校特色_其他 && school.學校特色_其他 !== '-');\n\n                if (!hasSchoolLifeData) return null;\n\n                return (\n                  <Card data-testid=\"card-school-life\">\n                    <CardHeader>\n                      <CardTitle className=\"text-base\">{language === 'tc' ? '學校生活與活動' : '学校生活与活动'}</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-2\">\n                      {school.健康校園生活 && school.健康校園生活 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.healthyCampusLife}</p>\n                          <HtmlContent content={school.健康校園生活} />\n                        </div>\n                      )}\n                      {school.全方位學習 && school.全方位學習 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.wholePerson}</p>\n                          <HtmlContent content={school.全方位學習} />\n                        </div>\n                      )}\n                      {school.環保政策 && school.環保政策 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.environmentalPolicy}</p>\n                          <HtmlContent content={school.環保政策} />\n                        </div>\n                      )}\n                      {school.學校關注事項 && school.學校關注事項 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.schoolFocusAreas}</p>\n                          <HtmlContent content={school.學校關注事項} />\n                        </div>\n                      )}\n                      {school.家校合作 && school.家校合作 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.homeSchoolCooperation}</p>\n                          <HtmlContent content={school.家校合作} />\n                        </div>\n                      )}\n                      {school.學校生活備註 && school.學校生活備註 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.schoolLifeRemarks}</p>\n                          <HtmlContent content={school.學校生活備註} />\n                        </div>\n                      )}\n                      {school.學校特色_其他 && school.學校特色_其他 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.schoolCharacteristics}</p>\n                          <HtmlContent content={school.學校特色_其他} />\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                );\n              })()}\n\n              {/* Curriculum & Teaching Section */}\n              {(() => {\n                const hasCurriculumData = \n                  (school.學習和教學策略 && school.學習和教學策略 !== '-') ||\n                  (school.小學教育課程更新重點的發展 && school.小學教育課程更新重點的發展 !== '-') ||\n                  (school.共通能力的培養 && school.共通能力的培養 !== '-') ||\n                  (school.正確價值觀_態度和行為的培養 && school.正確價值觀_態度和行為的培養 !== '-') ||\n                  (school.課程剪裁及調適措施 && school.課程剪裁及調適措施 !== '-');\n\n                if (!hasCurriculumData) return null;\n\n                return (\n                  <Card data-testid=\"card-curriculum\">\n                    <CardHeader>\n                      <CardTitle className=\"text-base\">{language === 'tc' ? '課程與教學' : '课程与教学'}</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-2\">\n                      {school.學習和教學策略 && school.學習和教學策略 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.teachingStrategies}</p>\n                          <HtmlContent content={school.學習和教學策略} />\n                        </div>\n                      )}\n                      {school.小學教育課程更新重點的發展 && school.小學教育課程更新重點的發展 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.curriculumDevelopment}</p>\n                          <HtmlContent content={school.小學教育課程更新重點的發展} />\n                        </div>\n                      )}\n                      {school.共通能力的培養 && school.共通能力的培養 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.genericSkills}</p>\n                          <HtmlContent content={school.共通能力的培養} />\n                        </div>\n                      )}\n                      {school.正確價值觀_態度和行為的培養 && school.正確價值觀_態度和行為的培養 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.valuesEducation}</p>\n                          <HtmlContent content={school.正確價值觀_態度和行為的培養} />\n                        </div>\n                      )}\n                      {school.課程剪裁及調適措施 && school.課程剪裁及調適措施 !== '-' && (\n                        <div>\n                          <p className=\"text-xs text-muted-foreground mb-1\">{t.curriculumAdaptation}</p>\n                          <HtmlContent content={school.課程剪裁及調適措施} />\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                );\n              })()}\n            </TabsContent>\n\n            <TabsContent value=\"contact\" className=\"space-y-3 pt-4\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-base\">{t.contact}</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-1\">\n                  <InfoRow label={t.address} value={school.學校地址} icon={MapPin} />\n                  <Separator />\n                  <InfoRow label={t.phone} value={school.學校電話} icon={Phone} />\n                  <Separator />\n                  <InfoRow label={t.fax} value={school.學校傳真} />\n                  <Separator />\n                  <InfoRow label={t.email} value={school.學校電郵} icon={Mail} />\n                  <Separator />\n                  {school.學校網址 && (\n                    <div className=\"flex gap-3 py-2\">\n                      <Globe className=\"h-4 w-4 text-muted-foreground flex-shrink-0 mt-0.5\" />\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-xs text-muted-foreground mb-1\">{t.website}</p>\n                        <a\n                          href={school.學校網址}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-sm text-primary hover:underline break-all\"\n                          data-testid=\"link-school-website\"\n                        >\n                          {school.學校網址}\n                        </a>\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n\n              {mapUrl ? (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">{t.location}</CardTitle>\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      {convertText(school.學校地址)}\n                    </p>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"w-full h-[400px] md:h-[500px] rounded-md overflow-hidden border\">\n                      <iframe\n                        src={mapUrl}\n                        width=\"100%\"\n                        height=\"100%\"\n                        style={{ border: 0 }}\n                        allowFullScreen\n                        loading=\"lazy\"\n                        referrerPolicy=\"no-referrer-when-downgrade\"\n                        title={`Map of ${school.學校名稱}`}\n                      />\n                    </div>\n                    {!import.meta.env.VITE_GOOGLE_MAPS_API_KEY && (\n                      <p className=\"text-xs text-muted-foreground mt-2\">\n                        {language === 'tc' ? '提示：添加 Google Maps API 金鑰可獲得更好的地圖體驗' : '提示：添加 Google Maps API 金钥可获得更好的地图体验'}\n                      </p>\n                    )}\n                  </CardContent>\n                </Card>\n              ) : (\n                <Card>\n                  <CardContent className=\"py-12 text-center\">\n                    <p className=\"text-muted-foreground\">\n                      {language === 'tc' ? '暫無地址資料' : '暂无地址资料'}\n                    </p>\n                  </CardContent>\n                </Card>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"facilities\" className=\"space-y-3 pt-4\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-base\">{t.facilities}</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  {(() => {\n                    const numericFacilities = [\n                      { label: t.classrooms, value: school.課室數目 },\n                      { label: t.halls, value: school.禮堂數目 },\n                      { label: t.playgrounds, value: school.操場數目 },\n                      { label: t.libraries, value: school.圖書館數目 },\n                    ].filter(f => f.value && f.value !== '-');\n                    \n                    return numericFacilities.length > 0 ? (\n                      <div className=\"space-y-1\">\n                        {numericFacilities.map((facility, idx) => (\n                          <div key={idx}>\n                            <InfoRow label={facility.label} value={facility.value} />\n                            {idx < numericFacilities.length - 1 && <Separator />}\n                          </div>\n                        ))}\n                      </div>\n                    ) : null;\n                  })()}\n\n                  {school.特別室 && school.特別室 !== '-' && (\n                    <>\n                      <Separator />\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-2\">{t.specialRooms}</p>\n                        <div className=\"flex flex-wrap gap-1.5\">\n                          {school.特別室.split('、').map((room, idx) => (\n                            <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                              {convertText(room.trim())}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n                    </>\n                  )}\n\n                  {school.其他學校設施 && school.其他學校設施 !== '-' && (\n                    <>\n                      <Separator />\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-2\">{t.otherFacilities}</p>\n                        <div className=\"flex flex-wrap gap-1.5\">\n                          {school.其他學校設施.split('、').map((facility, idx) => (\n                            <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                              {convertText(facility.trim())}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n                    </>\n                  )}\n\n                  {school.支援有特殊教育需要學生的設施 && school.支援有特殊教育需要學生的設施 !== '-' && (\n                    <>\n                      <Separator />\n                      <div>\n                        <p className=\"text-xs text-muted-foreground mb-2\">{t.senSupportFacilities}</p>\n                        <div className=\"flex flex-wrap gap-1.5\">\n                          {school.支援有特殊教育需要學生的設施.split('、').map((facility, idx) => (\n                            <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                              {convertText(facility.trim())}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n                    </>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"classes\" className=\"space-y-3 pt-4\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-base\">{t.classDistribution}</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"overflow-x-auto\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow>\n                          <TableHead className=\"text-xs font-medium\">{language === 'tc' ? '學年' : '学年'}</TableHead>\n                          <TableHead className=\"text-xs text-center font-medium\">{t.grade1}</TableHead>\n                          <TableHead className=\"text-xs text-center font-medium\">{t.grade2}</TableHead>\n                          <TableHead className=\"text-xs text-center font-medium\">{t.grade3}</TableHead>\n                          <TableHead className=\"text-xs text-center font-medium\">{t.grade4}</TableHead>\n                          <TableHead className=\"text-xs text-center font-medium\">{t.grade5}</TableHead>\n                          <TableHead className=\"text-xs text-center font-medium\">{t.grade6}</TableHead>\n                          <TableHead className=\"text-xs text-center font-medium\">{t.totalClasses}</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        <TableRow>\n                          <TableCell className=\"text-xs font-medium\">{t.lastYear}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-last-year-p1\">{convertText(school.上學年小一班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-last-year-p2\">{convertText(school.上學年小二班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-last-year-p3\">{convertText(school.上學年小三班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-last-year-p4\">{convertText(school.上學年小四班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-last-year-p5\">{convertText(school.上學年小五班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-last-year-p6\">{convertText(school.上學年小六班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center font-medium\" data-testid=\"cell-last-year-total\">{convertText(school.上學年總班數 || '—')}</TableCell>\n                        </TableRow>\n                        <TableRow>\n                          <TableCell className=\"text-xs font-medium\">{t.currentYear}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-current-year-p1\">{convertText(school.本學年小一班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-current-year-p2\">{convertText(school.本學年小二班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-current-year-p3\">{convertText(school.本學年小三班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-current-year-p4\">{convertText(school.本學年小四班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-current-year-p5\">{convertText(school.本學年小五班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center\" data-testid=\"cell-current-year-p6\">{convertText(school.本學年小六班數 || '—')}</TableCell>\n                          <TableCell className=\"text-xs text-center font-medium\" data-testid=\"cell-current-year-total\">{convertText(school.本學年總班數 || '—')}</TableCell>\n                        </TableRow>\n                      </TableBody>\n                    </Table>\n                  </div>\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"teachers\" className=\"space-y-3 pt-4\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-base\">{t.teachers}</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"text-sm py-2\">\n                    <span className=\"text-muted-foreground\">{t.approvedTeachers} / {t.totalTeachers}: </span>\n                    <span className=\"font-medium\">\n                      {school.核准編制教師職位數目 || '—'} / {school.教師總人數 || '—'}\n                    </span>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {qualificationChartData.length > 0 ? (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">{t.teacherStats}</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <ResponsiveContainer width=\"100%\" height={220}>\n                      <BarChart data={qualificationChartData}>\n                        <CartesianGrid strokeDasharray=\"3 3\" />\n                        <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} />\n                        <YAxis domain={[0, 100]} tick={{ fontSize: 11 }} />\n                        <Tooltip />\n                        <Bar dataKey=\"value\" radius={[4, 4, 0, 0]}>\n                          {qualificationChartData.map((entry, index) => (\n                            <Cell key={`cell-${index}`} fill={entry.color} />\n                          ))}\n                        </Bar>\n                      </BarChart>\n                    </ResponsiveContainer>\n                  </CardContent>\n                </Card>\n              ) : (\n                <Card>\n                  <CardContent className=\"py-8 text-center\">\n                    <p className=\"text-sm text-muted-foreground\">\n                      {language === 'tc' ? '暫無教師資歷數據' : '暂无教师资历数据'}\n                    </p>\n                  </CardContent>\n                </Card>\n              )}\n\n              {experienceChartData.length > 0 && (\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">{t.experience}</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <ResponsiveContainer width=\"100%\" height={240}>\n                      <PieChart>\n                        <Pie\n                          data={experienceChartData}\n                          cx=\"50%\"\n                          cy=\"50%\"\n                          labelLine={false}\n                          label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\n                          outerRadius={80}\n                          fill=\"#8884d8\"\n                          dataKey=\"value\"\n                        >\n                          {experienceChartData.map((entry, index) => (\n                            <Cell key={`cell-${index}`} fill={entry.color} />\n                          ))}\n                        </Pie>\n                        <Tooltip />\n                        <Legend />\n                      </PieChart>\n                    </ResponsiveContainer>\n                  </CardContent>\n                </Card>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"fees\" className=\"space-y-3 pt-4\">\n              <Card>\n                <CardHeader>\n                  <CardTitle className=\"text-base\">{t.fees}</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead className=\"text-xs font-medium\">{language === 'tc' ? '費用項目' : '费用项目'}</TableHead>\n                        <TableHead className=\"text-xs font-medium text-right\">{language === 'tc' ? '金額' : '金额'}</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      <TableRow>\n                        <TableCell className=\"text-sm\">{t.tuition}</TableCell>\n                        <TableCell className=\"text-sm text-right\">\n                          {convertText(school.學費 && school.學費 !== '-' ? school.學費 : t.noData)}\n                        </TableCell>\n                      </TableRow>\n                      <TableRow>\n                        <TableCell className=\"text-sm\">{t.ptaFee}</TableCell>\n                        <TableCell className=\"text-sm text-right\">\n                          {convertText(school.家長教師會費 && school.家長教師會費 !== '-' ? school.家長教師會費 : t.noData)}\n                        </TableCell>\n                      </TableRow>\n                      <TableRow>\n                        <TableCell className=\"text-sm\">{t.nonStandardFees}</TableCell>\n                        <TableCell className=\"text-sm text-right\">\n                          {convertText(school.非標準項目的核准收費 && school.非標準項目的核准收費 !== '-' ? school.非標準項目的核准收費 : t.noData)}\n                        </TableCell>\n                      </TableRow>\n                      <TableRow>\n                        <TableCell className=\"text-sm\">{t.hallFee}</TableCell>\n                        <TableCell className=\"text-sm text-right\">\n                          {convertText(school.堂費 && school.堂費 !== '-' ? school.堂費 : t.noData)}\n                        </TableCell>\n                      </TableRow>\n                      <TableRow>\n                        <TableCell className=\"text-sm\">{t.otherFees}</TableCell>\n                        <TableCell className=\"text-sm text-right\">\n                          {convertText(school.其他收費_費用 && school.其他收費_費用 !== '-' ? school.其他收費_費用 : t.noData)}\n                        </TableCell>\n                      </TableRow>\n                      <TableRow>\n                        <TableCell className=\"text-sm\">{t.tuitionReduction}</TableCell>\n                        <TableCell className=\"text-sm text-right\">\n                          {convertText(school.學費減免 && school.學費減免 !== '-' ? school.學費減免 : t.noData)}\n                        </TableCell>\n                      </TableRow>\n                    </TableBody>\n                  </Table>\n                </CardContent>\n              </Card>\n            </TabsContent>\n          </Tabs>\n        </div>\n        \n        {/* Disclaimer footer */}\n        <div className=\"px-6 py-4 border-t bg-muted/20 text-center\">\n          <p className=\"text-xs text-muted-foreground\">\n            {convertText('以上資料取自《小學概覽》2025，只供參考，所有資訊應以學校官方公布作準')}\n          </p>\n        </div>\n      </ScrollArea>\n    </div>\n  );\n}\n","size_bytes":64634},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/pages/examples/Home.tsx":{"content":"import Home from '../Home';\nimport { LanguageProvider } from '@/contexts/LanguageContext';\n\nexport default function HomeExample() {\n  return (\n    <LanguageProvider>\n      <Home />\n    </LanguageProvider>\n  );\n}\n","size_bytes":212},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/components/SchoolCard.tsx":{"content":"import { MapPin, Users, BookOpen, Phone, GraduationCap, Building2, School as SchoolIcon, Calendar } from 'lucide-react';\nimport { Card, CardHeader, CardContent, CardFooter } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Separator } from '@/components/ui/separator';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport type { School } from '@shared/school-schema';\n\ninterface SchoolCardProps {\n  school: School;\n  onViewDetails: (school: School) => void;\n  isSelected?: boolean;\n  onToggleSelect?: (school: School) => void;\n}\n\nexport default function SchoolCard({ school, onViewDetails, isSelected, onToggleSelect }: SchoolCardProps) {\n  const { t, convertText } = useLanguage();\n\n  return (\n    <Card className=\"h-full flex flex-col hover-elevate\">\n      <CardHeader className=\"flex-row items-start justify-between gap-4 space-y-0 pb-4\">\n        <div className=\"flex-1 min-w-0\">\n          <h3 className=\"font-semibold text-lg leading-relaxed line-clamp-2\" data-testid={`text-school-name-${school.id}`}>\n            {convertText(school.學校名稱)}\n          </h3>\n          <div className=\"flex items-center gap-2 mt-2 flex-wrap\">\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              {convertText(school.學校類別1)}\n            </Badge>\n            {school.宗教 && school.宗教 !== '不適用' && (\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {convertText(school.宗教)}\n              </Badge>\n            )}\n            {school.小一學校網 && school.小一學校網 !== '/' && (\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {t.schoolNetwork} {school.小一學校網}\n              </Badge>\n            )}\n          </div>\n        </div>\n        {onToggleSelect && (\n          <Checkbox\n            checked={isSelected}\n            onCheckedChange={() => onToggleSelect(school)}\n            data-testid={`checkbox-select-school-${school.id}`}\n            className=\"mt-1\"\n          />\n        )}\n      </CardHeader>\n\n      <CardContent className=\"flex-1 space-y-3 text-sm\">\n        <div className=\"flex items-start gap-2\">\n          <MapPin className=\"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0\" />\n          <span className=\"text-muted-foreground line-clamp-2 leading-relaxed\">\n            {convertText(school.區域)}\n          </span>\n        </div>\n\n        {school.學生性別 && (\n          <div className=\"flex items-center gap-2\">\n            <Users className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\n            <span className=\"text-muted-foreground\">\n              {convertText(school.學生性別)}\n            </span>\n          </div>\n        )}\n\n        {school.教學語言 && (\n          <div className=\"flex items-start gap-2\">\n            <BookOpen className=\"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0\" />\n            <span className=\"text-muted-foreground line-clamp-2 leading-relaxed\">\n              {convertText(school.教學語言)}\n            </span>\n          </div>\n        )}\n\n        {school.學校電話 && (\n          <div className=\"flex items-center gap-2\">\n            <Phone className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\n            <span className=\"text-muted-foreground\">\n              {school.學校電話}\n            </span>\n          </div>\n        )}\n\n        <Separator />\n\n        {/* Additional detailed information */}\n        {school.創校年份 && (\n          <div className=\"flex items-center gap-2\">\n            <Calendar className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\n            <span className=\"text-muted-foreground text-xs\">\n              {t.establishedYear}: {school.創校年份}\n            </span>\n          </div>\n        )}\n\n        {school.辦學團體 && (\n          <div className=\"flex items-start gap-2\">\n            <Building2 className=\"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0\" />\n            <span className=\"text-muted-foreground text-xs line-clamp-2 leading-relaxed\">\n              {convertText(school.辦學團體)}\n            </span>\n          </div>\n        )}\n\n        {/* Teacher quality badges */}\n        {school.已接受師資培訓人數百分率 && (\n          <div className=\"flex items-start gap-2\">\n            <GraduationCap className=\"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0\" />\n            <div className=\"flex flex-wrap gap-1.5\">\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {school.已接受師資培訓人數百分率}{school.已接受師資培訓人數百分率.includes('%') ? '' : '%'} {t.trained}\n              </Badge>\n              {school.學士人數百分率 && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {school.學士人數百分率}{school.學士人數百分率.includes('%') ? '' : '%'} {t.bachelor}\n                </Badge>\n              )}\n              {school.碩士博士或以上人數百分率 && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {school.碩士博士或以上人數百分率}{school.碩士博士或以上人數百分率.includes('%') ? '' : '%'} {t.master}\n                </Badge>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Special features preview */}\n        {school.特別室 && (\n          <div className=\"flex items-start gap-2\">\n            <SchoolIcon className=\"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0\" />\n            <span className=\"text-muted-foreground text-xs line-clamp-2 leading-relaxed\">\n              {convertText(school.特別室.split('、').slice(0, 3).join('、'))}\n              {school.特別室.split('、').length > 3 && '...'}\n            </span>\n          </div>\n        )}\n\n        {/* Other facilities if available */}\n        {school.其他學校設施 && school.其他學校設施 !== '-' && (\n          <div className=\"flex items-start gap-2\">\n            <Building2 className=\"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0\" />\n            <span className=\"text-muted-foreground text-xs line-clamp-2 leading-relaxed\">\n              {convertText(school.其他學校設施.split('、').slice(0, 2).join('、'))}\n              {school.其他學校設施.split('、').length > 2 && '...'}\n            </span>\n          </div>\n        )}\n\n        {/* Through-train / Direct / Linked schools */}\n        {((school.一條龍中學 && school.一條龍中學 !== '-') || \n          (school.直屬中學 && school.直屬中學 !== '-') || \n          (school.聯繫中學 && school.聯繫中學 !== '-')) && (\n          <div className=\"bg-muted/30 rounded-md p-2 text-xs space-y-1\">\n            {school.一條龍中學 && school.一條龍中學 !== '-' && (\n              <div className=\"text-muted-foreground\">\n                {t.throughTrain}: {convertText(school.一條龍中學)}\n              </div>\n            )}\n            {school.直屬中學 && school.直屬中學 !== '-' && (\n              <div className=\"text-muted-foreground\">\n                {t.directSchools}: {convertText(school.直屬中學)}\n              </div>\n            )}\n            {school.聯繫中學 && school.聯繫中學 !== '-' && (\n              <div className=\"text-muted-foreground\">\n                {t.linkedSchools}: {convertText(school.聯繫中學)}\n              </div>\n            )}\n          </div>\n        )}\n      </CardContent>\n\n      <CardFooter className=\"pt-4\">\n        <Button\n          className=\"w-full\"\n          variant=\"outline\"\n          onClick={() => onViewDetails(school)}\n          data-testid={`button-view-details-${school.id}`}\n        >\n          {t.viewDetails}\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n}\n","size_bytes":7865},"client/src/components/examples/LanguageToggle.tsx":{"content":"import LanguageToggle from '../LanguageToggle';\nimport { LanguageProvider } from '@/contexts/LanguageContext';\n\nexport default function LanguageToggleExample() {\n  return (\n    <LanguageProvider>\n      <LanguageToggle />\n    </LanguageProvider>\n  );\n}\n","size_bytes":252},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"replit.md":{"content":"# Hong Kong Primary School Filter\n\n## Overview\n\nThis application provides a comprehensive database and filtering system for Hong Kong primary schools. Users can search, filter by multiple criteria (region, school type, gender, religion, language), compare up to four schools side-by-side, and view detailed information. The system is designed for bilingual content (Traditional and Simplified Chinese), focusing on information density, efficient data presentation, and a rich user experience.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework**: React 18 with TypeScript on Vite.\n**UI Component Library**: shadcn/ui built on Radix UI, adhering to Material Design principles with Carbon Design influences.\n**Styling**: Tailwind CSS with custom design tokens, optimized for bilingual Chinese text rendering using Noto Sans TC/SC.\n**State Management**: React Context API for global state (e.g., language), local component state with React hooks, and TanStack Query for server state.\n**Routing**: Wouter for client-side routing.\n**Internationalization**: Custom implementation using OpenCC.js for bidirectional Traditional/Simplified Chinese text conversion.\n**Key Design Patterns**: Component composition, custom hooks, context providers, and a mobile-first responsive design.\n\n### Backend Architecture\n\n**Server Framework**: Express.js on Node.js with TypeScript.\n**API Design**: RESTful API structure with an `/api` prefix.\n**Storage Interface**: Abstracted `IStorage` layer supporting in-memory (development) and PostgreSQL (production via Drizzle ORM).\n**Session Management**: Infrastructure for PostgreSQL-backed sessions (connect-pg-simple).\n\n### Data Storage\n\n**ORM**: Drizzle ORM configured for PostgreSQL via Neon serverless driver.\n**Schema Management**: Drizzle Kit for migrations, type-safe schema definitions, and Zod for runtime validation.\n**Schemas**: Includes user authentication (prepared) and an extensive school schema with over 40 metadata fields. Mock data is currently used for prototyping, with real database integration planned.\n\n### UI/UX Decisions\n\nThe application emphasizes information density and clear presentation. School detail views are organized into a 9-tab architecture covering philosophy, homework, teaching features, facilities, class distribution, teachers, fees, and contact information. Responsive design is a core principle, with elements like article carousels adapting for various screen sizes and supporting features like autoplay and swipe gestures. Conditional rendering ensures that UI elements only display when relevant data is available, preventing clutter. Filtering interfaces are streamlined for usability.\n\n### HTML Content Rendering\n\nLong-form text fields from the CSV database contain HTML formatting (e.g., `<br>` tags, numbered lists). A custom `HtmlContent` component safely renders this HTML using `dangerouslySetInnerHTML` while applying bilingual text conversion. This component is used consistently across all long-form text fields in the Philosophy, Homework, and Teaching Features tabs to ensure proper formatting and readability.\n\n## External Dependencies\n\n**UI Component Framework**: Radix UI primitives, shadcn/ui.\n**Data Fetching & Caching**: TanStack Query v5.\n**Form Handling**: React Hook Form, Zod.\n**Chinese Text Processing**: OpenCC.js.\n**Styling & UI**: Tailwind CSS, class-variance-authority, clsx, tailwind-merge, Lucide React (icons).\n**Charts & Visualization**: Recharts.\n**Date Handling**: date-fns.\n**Development Tools**: TypeScript, ESBuild, Vite, tsx.","size_bytes":3629},"client/src/components/SearchBar.tsx":{"content":"import { Search } from 'lucide-react';\nimport { Input } from '@/components/ui/input';\nimport { useLanguage } from '@/contexts/LanguageContext';\n\ninterface SearchBarProps {\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  'data-testid'?: string;\n}\n\nexport default function SearchBar({ value, onChange, placeholder, 'data-testid': testId }: SearchBarProps) {\n  const { t } = useLanguage();\n\n  return (\n    <div className=\"relative w-full\">\n      <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n      <Input\n        type=\"search\"\n        placeholder={placeholder || t.searchPlaceholder}\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className=\"pl-10 h-12\"\n        data-testid={testId || \"input-search\"}\n      />\n    </div>\n  );\n}\n","size_bytes":839},"client/src/components/LanguageToggle.tsx":{"content":"import { Button } from '@/components/ui/button';\nimport { useLanguage } from '@/contexts/LanguageContext';\n\nexport default function LanguageToggle() {\n  const { language, toggleLanguage, t } = useLanguage();\n\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"sm\"\n      onClick={toggleLanguage}\n      data-testid=\"button-language-toggle\"\n      className=\"font-medium\"\n    >\n      {t.languageToggle}\n    </Button>\n  );\n}\n","size_bytes":428},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/lib/i18n.ts":{"content":"import * as OpenCC from 'opencc-js';\n\nexport type Language = 'tc' | 'sc';\n\n// Initialize OpenCC converter for Traditional to Simplified Chinese\n// Using Hong Kong Traditional (hk) to Mainland Simplified (cn) conversion\nconst converter = OpenCC.Converter({ from: 'hk', to: 'cn' });\n\nexport const translations = {\n  tc: {\n    // Header\n    appTitle: '「01教育」小學選校器',\n    searchPlaceholder: '搜索學校名稱或特色設施...',\n    \n    // Language toggle\n    languageToggle: '简',\n    \n    // Filters\n    filters: '篩選',\n    clearFilters: '清除所有篩選',\n    activeFilters: '已選篩選',\n    region: '區域',\n    schoolType: '學校類別',\n    gender: '學生性別',\n    religion: '宗教',\n    language: '教學語言',\n    schoolNetwork: '校網',\n    schoolNet: '校網',\n    fundingType: '資助類型',\n    linkedSchool: '關聯學校',\n    teacherQuality: '師資',\n    applyFilters: '套用',\n    \n    // School list\n    schoolsFound: '所學校',\n    noSchools: '沒有找到學校',\n    noSchoolsDesc: '請嘗試調整篩選條件',\n    \n    // School card\n    viewDetails: '查看詳情',\n    compare: '比較',\n    selected: '已選',\n    \n    // Comparison\n    compareSchools: '比較學校',\n    comparing: '正在比較',\n    removeFromComparison: '移除',\n    clearComparison: '清除比較',\n    maxComparison: '最多可比較4所學校',\n    selectToCompare: '選擇以比較學校',\n    backToTop: '返回頂部',\n    \n    // Comparison sections\n    comparisonBasicInfo: '基本資料',\n    comparisonOperations: '上課時間及交通',\n    comparisonFees: '費用',\n    comparisonPhilosophy: '辦學理念',\n    comparisonTeaching: '教學與班級',\n    comparisonAssessment: '評估與功課',\n    comparisonCurriculum: '課程發展',\n    comparisonSupport: '學生支援',\n    comparisonSchoolLife: '學校生活與特色',\n    \n    // School details\n    basicInfo: '基本資料',\n    schoolPhilosophy: '辦學理念',\n    contact: '聯絡資料',\n    contactAndLocation: '聯絡資料及位置',\n    facilities: '設施',\n    teachers: '教師資料',\n    fees: '費用',\n    about: '關於',\n    teachingFeatures: '教學特色',\n    \n    // Fields\n    schoolName: '學校名稱',\n    address: '地址',\n    phone: '電話',\n    fax: '傳真',\n    email: '電郵',\n    website: '網址',\n    establishedYear: '創校年份',\n    motto: '校訓',\n    area: '佔地面積',\n    sponsoringBody: '辦學團體',\n    linkedSchools: '聯繫中學',\n    directSchools: '直屬中學',\n    throughTrain: '一條龍中學',\n    tuition: '學費',\n    misc: '雜費',\n    ptaFee: '家教會費',\n    nonStandardFees: '非標準項目的核准收費',\n    noData: '沒有',\n    classrooms: '課室數目',\n    halls: '禮堂數目',\n    playgrounds: '操場數目',\n    libraries: '圖書館數目',\n    specialRooms: '特別室',\n    otherFacilities: '其他設施',\n    senSupportFacilities: '支援有特殊教育需要學生的設施',\n    totalTeachers: '教師總人數',\n    trainedRate: '已接受師資培訓百分率',\n    degreeRate: '學士百分率',\n    masterRate: '碩士/博士百分率',\n    mission: '辦學宗旨',\n    schoolCulture: '校風',\n    trained: '已培訓',\n    bachelor: '學士',\n    master: '碩士',\n    \n    // Additional fields\n    lastYearClasses: '上學年總班數',\n    currentYearClasses: '本學年總班數',\n    schoolBus: '校車服務',\n    location: '位置',\n    map: '地圖',\n    teacherStats: '教師資歷統計',\n    schoolInfo: '學校資訊',\n    activities: '學習活動',\n    approvedTeachers: '核准編制教師職位數目',\n    schoolArea: '學校佔地面積',\n    schoolBoard: '法團校董會',\n    pta: '家長教師會',\n    nannyBus: '保姆車',\n    classTime: '上課時間',\n    supervisor: '校監',\n    principal: '校長',\n    classDistribution: '開班總數',\n    lastYear: '上學年',\n    currentYear: '本學年',\n    grade1: '小一',\n    grade2: '小二',\n    grade3: '小三',\n    grade4: '小四',\n    grade5: '小五',\n    grade6: '小六',\n    totalClasses: '總班數',\n    experience: '年資',\n    experience0to4: '0-4年',\n    experience5to9: '5-9年',\n    experience10plus: '10年以上',\n    specialEducation: '特殊教育',\n    generalArrivalTime: '一般上學時間',\n    generalDismissalTime: '一般放學時間',\n    lunchStartTime: '午膳開始時間',\n    lunchEndTime: '午膳結束時間',\n    lunchArrangement: '午膳安排',\n    \n    // Homework & Assessment\n    homeworkArrangement: '課業安排',\n    classTeachingMode: '班級教學模式',\n    classStructureRemarks: '班級結構備註',\n    testCountYear1: '全年全科測驗次數（一年級）',\n    examCountYear1: '全年全科考試次數（一年級）',\n    p1AlternativeAssessment: '小一上學期以多元化的進展性評估代替測驗及考試',\n    testCountYear2to6: '全年全科測驗次數（二至六年級）',\n    examCountYear2to6: '全年全科考試次數（二至六年級）',\n    homeworkPolicyParents: '制定適切的校本課業政策，讓家長了解相關安排，並定期蒐集教師、學生和家長的意見',\n    assessmentPolicyOnline: '將校本評估政策上載至學校網頁，讓公眾及持份者知悉',\n    homeworkPolicyOnline: '將校本課業政策上載至學校網頁，讓公眾及持份者知悉',\n    diverseLearningAssessment: '多元學習評估',\n    avoidTestAfterHoliday: '避免緊接在長假期後安排測考，讓學生在假期有充分的休息',\n    afternoonHomeworkTime: '按校情靈活編排時間表，盡量在下午安排導修時段，讓學生能在教師指導下完成部分家課',\n    classArrangement: '分班安排',\n    yes: '是',\n    no: '否',\n    \n    // Management Body\n    managementBody: '管治架構',\n    supervisorTrainingRate: '校監和校董/校管會主席和成員的培訓達標率',\n    managementStructure: '學校管理架構',\n    schoolBoardDetail: '法團校董會/校管會/校董會',\n    alumniAssociation: '舊生會/校友會',\n    schoolDevelopmentPlan: '學校發展計劃',\n    \n    // Additional Fees\n    hallFee: '堂費',\n    otherFees: '其他收費/費用',\n    tuitionReduction: '學費減免',\n    \n    // Teaching Features (School Life & Activities)\n    healthyCampusLife: '健康校園生活',\n    schoolLifeRemarks: '學校生活備註',\n    wholePerson: '全方位學習',\n    environmentalPolicy: '環保政策',\n    schoolFocusAreas: '學校關注事項',\n    homeSchoolCooperation: '家校合作',\n    schoolCharacteristics: '學校特色/其他',\n    \n    // Curriculum & Teaching\n    teachingStrategies: '學習和教學策略',\n    curriculumDevelopment: '小學教育課程更新重點的發展',\n    genericSkills: '共通能力的培養',\n    valuesEducation: '正確價值觀、態度和行為的培養',\n    curriculumAdaptation: '課程剪裁及調適措施',\n    \n    // Student Support\n    studentDiversity: '全校參與照顧學生的多樣性',\n    inclusiveEducation: '全校參與模式融合教育',\n    nonChineseSpeakingSupport: '非華語學生的教育支援',\n    \n    // Teacher Professional Development\n    teacherProfessionalDevelopment: '教師專業培訓及發展',\n    \n    // Categories\n    categories: {\n      資助: '資助',\n      私立: '私立',\n      官立: '官立',\n      男女: '男女',\n      男: '男',\n      女: '女',\n      基督教: '基督教',\n      天主教: '天主教',\n      佛教: '佛教',\n      不適用: '無',\n    },\n    \n    // Sort\n    sort: '排序',\n    sortBy: '排序方式',\n    schoolNameAsc: '學校名稱 (A-Z)',\n    schoolNameDesc: '學校名稱 (Z-A)',\n    regionAsc: '區域 (A-Z)',\n    establishedYearAsc: '創校年份 (舊→新)',\n    establishedYearDesc: '創校年份 (新→舊)',\n  },\n  sc: {\n    // Header\n    appTitle: '「01教育」小学选校器',\n    searchPlaceholder: '搜索学校名称或特色设施...',\n    \n    // Language toggle\n    languageToggle: '繁',\n    \n    // Filters\n    filters: '筛选',\n    clearFilters: '清除所有筛选',\n    activeFilters: '已选筛选',\n    region: '区域',\n    schoolType: '学校类别',\n    gender: '学生性别',\n    religion: '宗教',\n    language: '教学语言',\n    schoolNetwork: '校网',\n    schoolNet: '校网',\n    fundingType: '资助类型',\n    linkedSchool: '关联学校',\n    teacherQuality: '师资',\n    applyFilters: '套用',\n    \n    // School list\n    schoolsFound: '所学校',\n    noSchools: '没有找到学校',\n    noSchoolsDesc: '请尝试调整筛选条件',\n    \n    // School card\n    viewDetails: '查看详情',\n    compare: '比较',\n    selected: '已选',\n    \n    // Comparison\n    compareSchools: '比较学校',\n    comparing: '正在比较',\n    removeFromComparison: '移除',\n    clearComparison: '清除比较',\n    maxComparison: '最多可比较4所学校',\n    selectToCompare: '选择以比较学校',\n    backToTop: '返回顶部',\n    \n    // Comparison sections\n    comparisonBasicInfo: '基本资料',\n    comparisonOperations: '上课时间及交通',\n    comparisonFees: '费用',\n    comparisonPhilosophy: '办学理念',\n    comparisonTeaching: '教学与班级',\n    comparisonAssessment: '评估与功课',\n    comparisonCurriculum: '课程发展',\n    comparisonSupport: '学生支援',\n    comparisonSchoolLife: '学校生活与特色',\n    \n    // School details\n    basicInfo: '基本资料',\n    schoolPhilosophy: '办学理念',\n    contact: '联络资料',\n    contactAndLocation: '联络资料及位置',\n    facilities: '设施',\n    teachers: '教师资料',\n    fees: '费用',\n    about: '关于',\n    teachingFeatures: '教学特色',\n    \n    // Fields\n    schoolName: '学校名称',\n    address: '地址',\n    phone: '电话',\n    fax: '传真',\n    email: '电邮',\n    website: '网址',\n    establishedYear: '创校年份',\n    motto: '校训',\n    area: '占地面积',\n    sponsoringBody: '办学团体',\n    linkedSchools: '联系中学',\n    directSchools: '直属中学',\n    throughTrain: '一条龙中学',\n    tuition: '学费',\n    misc: '杂费',\n    ptaFee: '家教会费',\n    nonStandardFees: '非标准项目的核准收费',\n    noData: '没有',\n    classrooms: '课室数目',\n    halls: '礼堂数目',\n    playgrounds: '操场数目',\n    libraries: '图书馆数目',\n    specialRooms: '特别室',\n    otherFacilities: '其他设施',\n    senSupportFacilities: '支援有特殊教育需要学生的设施',\n    totalTeachers: '教师总人数',\n    trainedRate: '已接受师资培训百分率',\n    degreeRate: '学士百分率',\n    masterRate: '硕士/博士百分率',\n    mission: '办学宗旨',\n    schoolCulture: '校风',\n    trained: '已培训',\n    bachelor: '学士',\n    master: '硕士',\n    \n    // Additional fields\n    lastYearClasses: '上学年总班数',\n    currentYearClasses: '本学年总班数',\n    schoolBus: '校车服务',\n    location: '位置',\n    map: '地图',\n    teacherStats: '教师资历统计',\n    schoolInfo: '学校资讯',\n    activities: '学习活动',\n    approvedTeachers: '核准编制教师职位数目',\n    schoolArea: '学校占地面积',\n    schoolBoard: '法团校董会',\n    pta: '家长教师会',\n    nannyBus: '保姆车',\n    classTime: '上课时间',\n    supervisor: '校监',\n    principal: '校长',\n    classDistribution: '开班总数',\n    lastYear: '上学年',\n    currentYear: '本学年',\n    grade1: '小一',\n    grade2: '小二',\n    grade3: '小三',\n    grade4: '小四',\n    grade5: '小五',\n    grade6: '小六',\n    totalClasses: '总班数',\n    experience: '年资',\n    experience0to4: '0-4年',\n    experience5to9: '5-9年',\n    experience10plus: '10年以上',\n    specialEducation: '特殊教育',\n    generalArrivalTime: '一般上学时间',\n    generalDismissalTime: '一般放学时间',\n    lunchStartTime: '午膳开始时间',\n    lunchEndTime: '午膳结束时间',\n    lunchArrangement: '午膳安排',\n    \n    // Homework & Assessment\n    homeworkArrangement: '课业安排',\n    classTeachingMode: '班级教学模式',\n    classStructureRemarks: '班级结构备注',\n    testCountYear1: '全年全科测验次数（一年级）',\n    examCountYear1: '全年全科考试次数（一年级）',\n    p1AlternativeAssessment: '小一上学期以多元化的进展性评估代替测验及考试',\n    testCountYear2to6: '全年全科测验次数（二至六年级）',\n    examCountYear2to6: '全年全科考试次数（二至六年级）',\n    homeworkPolicyParents: '制定适切的校本课业政策，让家长了解相关安排，并定期搜集教师、学生和家长的意见',\n    assessmentPolicyOnline: '将校本评估政策上载至学校网页，让公众及持份者知悉',\n    homeworkPolicyOnline: '将校本课业政策上载至学校网页，让公众及持份者知悉',\n    diverseLearningAssessment: '多元学习评估',\n    avoidTestAfterHoliday: '避免紧接在长假期后安排测考，让学生在假期有充分的休息',\n    afternoonHomeworkTime: '按校情灵活编排时间表，尽量在下午安排导修时段，让学生能在教师指导下完成部分家课',\n    classArrangement: '分班安排',\n    yes: '是',\n    no: '否',\n    \n    // Management Body\n    managementBody: '管治架构',\n    supervisorTrainingRate: '校监和校董/校管会主席和成员的培训达标率',\n    managementStructure: '学校管理架构',\n    schoolBoardDetail: '法团校董会/校管会/校董会',\n    alumniAssociation: '旧生会/校友会',\n    schoolDevelopmentPlan: '学校发展计划',\n    \n    // Additional Fees\n    hallFee: '堂费',\n    otherFees: '其他收费/费用',\n    tuitionReduction: '学费减免',\n    \n    // Teaching Features (School Life & Activities)\n    healthyCampusLife: '健康校园生活',\n    schoolLifeRemarks: '学校生活备注',\n    wholePerson: '全方位学习',\n    environmentalPolicy: '环保政策',\n    schoolFocusAreas: '学校关注事项',\n    homeSchoolCooperation: '家校合作',\n    schoolCharacteristics: '学校特色/其他',\n    \n    // Curriculum & Teaching\n    teachingStrategies: '学习和教学策略',\n    curriculumDevelopment: '小学教育课程更新重点的发展',\n    genericSkills: '共通能力的培养',\n    valuesEducation: '正确价值观、态度和行为的培养',\n    curriculumAdaptation: '课程剪裁及调适措施',\n    \n    // Student Support\n    studentDiversity: '全校参与照顾学生的多样性',\n    inclusiveEducation: '全校参与模式融合教育',\n    nonChineseSpeakingSupport: '非华语学生的教育支援',\n    \n    // Teacher Professional Development\n    teacherProfessionalDevelopment: '教师专业培训及发展',\n    \n    // Categories\n    categories: {\n      資助: '资助',\n      私立: '私立',\n      官立: '官立',\n      男女: '男女',\n      男: '男',\n      女: '女',\n      基督教: '基督教',\n      天主教: '天主教',\n      佛教: '佛教',\n      不適用: '无',\n    },\n    \n    // Sort\n    sort: '排序',\n    sortBy: '排序方式',\n    schoolNameAsc: '学校名称 (A-Z)',\n    schoolNameDesc: '学校名称 (Z-A)',\n    regionAsc: '区域 (A-Z)',\n    establishedYearAsc: '创校年份 (旧→新)',\n    establishedYearDesc: '创校年份 (新→旧)',\n  },\n};\n\n/**\n * Converts any Chinese text (Traditional or Simplified) to Simplified Chinese\n * Uses opencc-js for comprehensive and reliable conversion\n * Used for bidirectional search matching - allows users to search with either TC or SC\n */\nexport function convertToSimplified(text: string): string {\n  if (!text) return '';\n  return converter(text);\n}\n","size_bytes":15681},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport path from \"path\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n// Serve attached_assets directory as static files\napp.use('/attached_assets', express.static(path.resolve(import.meta.dirname, '../attached_assets')));\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2389},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"flex min-h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1880},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/lib/mockSchools.ts":{"content":"import { School } from '@shared/school-schema';\n\n// TODO: remove mock functionality - this is temporary data for frontend prototype\nexport const mockSchools: School[] = [\n  {\n    id: '1',\n    學校名稱: '北角衞理小學',\n    區域: '香港東區',\n    學校地址: '香港北角百福道2A號',\n    小一學校網: '14',\n    學校電話: '25703623',\n    學校傳真: '25107285',\n    學校電郵: 'npm-info@npmps.edu.hk',\n    學校網址: 'http://www.npmps.edu.hk',\n    學校類別1: '資助',\n    學校類別2: '全日',\n    法團校董會: '已成立',\n    校監_校管會主席姓名: '張華',\n    校監_校管會主席稱謂: '先生',\n    校長姓名: '李文華',\n    校長稱謂: '女士',\n    學生性別: '男女',\n    辦學團體: '香港基督教循道衞理聯合教會',\n    創校年份: '1959',\n    宗教: '基督教',\n    校訓: '智者不惑，仁者不憂，勇者不懼',\n    學校佔地面積: '4000',\n    教學語言: '中文',\n    一條龍中學: '-',\n    直屬中學: '-',\n    聯繫中學: '-',\n    校車: '有',\n    保姆車: '有',\n    家長教師會: '有',\n    學費: '-',\n    堂費: '-',\n    家長教師會費: '100',\n    課室數目: '24',\n    禮堂數目: '1',\n    操場數目: '2',\n    圖書館數目: '1',\n    特別室: '音樂室、視藝室、電腦科探室、小組教學室、醫療室、英語室、常識室、校園電視台、多媒體教室',\n    其他學校設施: '會議室、教員室、校園農莊、校友室、家教會室、生命教育中心、有蓋運動場',\n    核准編制教師職位數目: '48',\n    教師總人數: '48',\n    已接受師資培訓人數百分率: '100',\n    學士人數百分率: '98',\n    碩士博士或以上人數百分率: '49',\n    特殊教育培訓人數百分率: '35',\n    '0至4年年資人數百分率': '20',\n    '5至9年年資人數百分率': '30',\n    '10年年資或以上人數百分率': '50',\n    上學年小一班數: '4',\n    上學年小二班數: '4',\n    上學年小三班數: '4',\n    上學年小四班數: '4',\n    上學年小五班數: '4',\n    上學年小六班數: '4',\n    上學年總班數: '24',\n    本學年小一班數: '4',\n    本學年小二班數: '4',\n    本學年小三班數: '4',\n    本學年小四班數: '4',\n    本學年小五班數: '4',\n    本學年小六班數: '4',\n    本學年總班數: '24',\n    一般上學時間: '上午8:00',\n    一般放學時間: '下午3:30',\n    午膳開始時間: '中午12:30',\n    午膳結束時間: '下午1:30',\n    午膳安排: '由指定供應商提供及由家長安排',\n    辦學宗旨: '本基督精神，發展全人教育，藉宣講福音，培育豐盛生命。',\n    校風: '校風淳樸，學生有禮自律，師生關係融洽',\n    非標準項目的核准收費: '特定用途的收費：校本興趣班 $500',\n    支援有特殊教育需要學生的設施: '斜道、暢通易達升降機、暢通易達洗手間、觸覺引路帶',\n    班級教學模式: '小班教學，每班不超過25人。設輔導班、支援班照顧學習差異。',\n    班級結構備註: '一至六年級每級設四班，平均分配學生。高年級設資優班。',\n    全年全科測驗次數_一年級: '0',\n    全年全科考試次數_一年級: '2',\n    小一上學期以多元化的進展性評估代替測驗及考試: '是',\n    全年全科測驗次數_二至六年級: '2',\n    全年全科考試次數_二至六年級: '2',\n    制定適切的校本課業政策_讓家長了解相關安排_並定期蒐集教師_學生和家長的意見: '是',\n    將校本評估政策上載至學校網頁_讓公眾及持份者知悉: '是',\n    將校本課業政策上載至學校網頁_讓公眾及持份者知悉: '是',\n    多元學習評估: '是',\n    避免緊接在長假期後安排測考_讓學生在假期有充分的休息: '是',\n    按校情靈活編排時間表_盡量在下午安排導修時段_讓學生能在教師指導下完成部分家課: '是',\n    分班安排: '混合能力分班，按學習需要提供分層支援。三年級後設精英班。',\n  },\n  {\n    id: '2',\n    學校名稱: '九龍城浸信會禧年（恩平）小學',\n    區域: '沙田區',\n    學校地址: '新界沙田新翠邨',\n    小一學校網: '88',\n    學校電話: '26053811',\n    學校傳真: '26949781',\n    學校電郵: 'enquiry@hnyp.edu.hk',\n    學校網址: 'http://www.hnyp.edu.hk',\n    學校類別1: '資助',\n    學校類別2: '全日',\n    法團校董會: '已成立',\n    校監_校管會主席姓名: '陳志明',\n    校監_校管會主席稱謂: '博士',\n    校長姓名: '黃麗珍',\n    校長稱謂: '女士',\n    學生性別: '男女',\n    辦學團體: '九龍城浸信會',\n    創校年份: '2006',\n    宗教: '基督教',\n    校訓: '敬誠孝勤　敦品勵學',\n    學校佔地面積: '4000',\n    教學語言: '中文',\n    一條龍中學: '-',\n    直屬中學: '-',\n    聯繫中學: '-',\n    校車: '有',\n    保姆車: '-',\n    家長教師會: '有',\n    學費: '-',\n    堂費: '-',\n    家長教師會費: '450',\n    課室數目: '26',\n    禮堂數目: '1',\n    操場數目: '1',\n    圖書館數目: '1',\n    特別室: '創意科技室、創意媒體基地、圖書館、音樂室、中華文化藝術室',\n    其他學校設施: '校園電視台、多用途活動室',\n    核准編制教師職位數目: '30',\n    教師總人數: '30',\n    已接受師資培訓人數百分率: '100',\n    學士人數百分率: '100',\n    碩士博士或以上人數百分率: '55',\n    特殊教育培訓人數百分率: '40',\n    '0至4年年資人數百分率': '25',\n    '5至9年年資人數百分率': '35',\n    '10年年資或以上人數百分率': '40',\n    上學年小一班數: '4',\n    上學年小二班數: '4',\n    上學年小三班數: '5',\n    上學年小四班數: '5',\n    上學年小五班數: '4',\n    上學年小六班數: '4',\n    上學年總班數: '26',\n    本學年小一班數: '4',\n    本學年小二班數: '4',\n    本學年小三班數: '4',\n    本學年小四班數: '5',\n    本學年小五班數: '5',\n    本學年小六班數: '4',\n    本學年總班數: '26',\n    一般上學時間: '上午8:15',\n    一般放學時間: '下午3:15',\n    午膳開始時間: '中午12:00',\n    午膳結束時間: '下午1:00',\n    午膳安排: '由指定供應商提供',\n    辦學宗旨: '秉承基督精神辦學，提供優質全人教育',\n    校風: '重視品德培育，建立關愛校園文化',\n  },\n  {\n    id: '3',\n    學校名稱: '九龍真光中學（小學部）',\n    區域: '九龍城區',\n    學校地址: '九龍窩打老道115號',\n    小一學校網: '/',\n    學校電話: '23360662',\n    學校傳真: '23387794',\n    學校電郵: 'info@ktlsps.edu.hk',\n    學校網址: 'http://www.ktlsps.edu.hk',\n    學校類別1: '私立',\n    學校類別2: '全日',\n    法團校董會: '不適用',\n    校監_校管會主席姓名: '李偉強',\n    校監_校管會主席稱謂: '牧師',\n    校長姓名: '譚碧雲',\n    校長稱謂: '女士',\n    學生性別: '男女',\n    辦學團體: '九龍真光中學',\n    創校年份: '1872',\n    宗教: '基督教',\n    校訓: '爾乃世之光',\n    學校佔地面積: '1400',\n    教學語言: '中文及英文',\n    一條龍中學: '-',\n    直屬中學: '-',\n    聯繫中學: '九龍真光中學',\n    校車: '-',\n    保姆車: '有',\n    家長教師會: '有',\n    學費: '$65650',\n    堂費: '-',\n    家長教師會費: '100',\n    課室數目: '12',\n    禮堂數目: '0',\n    操場數目: '1',\n    圖書館數目: '1',\n    特別室: '圖書館、綜藝廳、多用途室',\n    其他學校設施: '-',\n    核准編制教師職位數目: '-',\n    教師總人數: '22',\n    已接受師資培訓人數百分率: '100',\n    學士人數百分率: '100',\n    碩士博士或以上人數百分率: '36',\n    特殊教育培訓人數百分率: '30',\n    '0至4年年資人數百分率': '30',\n    '5至9年年資人數百分率': '25',\n    '10年年資或以上人數百分率': '45',\n    上學年小一班數: '2',\n    上學年小二班數: '2',\n    上學年小三班數: '2',\n    上學年小四班數: '2',\n    上學年小五班數: '2',\n    上學年小六班數: '2',\n    上學年總班數: '12',\n    本學年小一班數: '2',\n    本學年小二班數: '2',\n    本學年小三班數: '2',\n    本學年小四班數: '2',\n    本學年小五班數: '2',\n    本學年小六班數: '2',\n    本學年總班數: '12',\n    一般上學時間: '上午8:00',\n    一般放學時間: '下午3:00',\n    午膳開始時間: '中午12:15',\n    午膳結束時間: '下午1:00',\n    午膳安排: '由家長安排',\n    辦學宗旨: '締造愉快的學習環境，鼓勵學生好學成長，發揮個人潛能，建立健全人格，為世之光。',\n    校風: '重視學生品德培養，建立自律精神',\n  },\n  {\n    id: '4',\n    學校名稱: '大埔官立小學',\n    區域: '大埔區',\n    學校地址: '新界大埔太和路8號',\n    小一學校網: '84',\n    學校電話: '26584062',\n    學校傳真: '26507109',\n    學校電郵: 'tpgps@edb.gov.hk',\n    學校網址: 'http://www.tpgps.edu.hk',\n    學校類別1: '官立',\n    學校類別2: '全日',\n    法團校董會: '不適用',\n    校監_校管會主席姓名: '黃偉明',\n    校監_校管會主席稱謂: '先生',\n    校長姓名: '馮愛蘭',\n    校長稱謂: '女士',\n    學生性別: '男女',\n    辦學團體: '政府',\n    創校年份: '1946',\n    宗教: '不適用',\n    校訓: '敬業樂群',\n    學校佔地面積: '5046',\n    教學語言: '中文',\n    一條龍中學: '-',\n    直屬中學: '-',\n    聯繫中學: '新界鄉議局大埔區中學、粉嶺官立中學',\n    校車: '-',\n    保姆車: '有',\n    家長教師會: '有',\n    學費: '-',\n    堂費: '-',\n    家長教師會費: '40',\n    課室數目: '30',\n    禮堂數目: '1',\n    操場數目: '2',\n    圖書館數目: '1',\n    特別室: '電腦室、音樂室、視藝室、英語活動室、飛行模擬室、學生活動中心、STEAM創客室、科學室',\n    其他學校設施: '有蓋操場、園圃',\n    核准編制教師職位數目: '40',\n    教師總人數: '40',\n    已接受師資培訓人數百分率: '100',\n    學士人數百分率: '100',\n    碩士博士或以上人數百分率: '45',\n    特殊教育培訓人數百分率: '38',\n    '0至4年年資人數百分率': '18',\n    '5至9年年資人數百分率': '32',\n    '10年年資或以上人數百分率': '50',\n    上學年小一班數: '5',\n    上學年小二班數: '5',\n    上學年小三班數: '5',\n    上學年小四班數: '5',\n    上學年小五班數: '5',\n    上學年小六班數: '5',\n    上學年總班數: '30',\n    本學年小一班數: '5',\n    本學年小二班數: '5',\n    本學年小三班數: '5',\n    本學年小四班數: '5',\n    本學年小五班數: '5',\n    本學年小六班數: '5',\n    本學年總班數: '30',\n    一般上學時間: '上午8:10',\n    一般放學時間: '下午3:20',\n    午膳開始時間: '中午12:20',\n    午膳結束時間: '下午1:10',\n    午膳安排: '由指定供應商提供',\n    辦學宗旨: '提供優質教育，培養學生德智體群美五育均衡發展',\n    校風: '紀律嚴明，學生守規有禮',\n  },\n  {\n    id: '5',\n    學校名稱: '上水宣道小學',\n    區域: '北區',\n    學校地址: '新界粉嶺聯和墟和睦路2號',\n    小一學校網: '81',\n    學校電話: '26702257',\n    學校傳真: '26685357',\n    學校電郵: 'apsmail@apsss.edu.hk',\n    學校網址: 'https://www.apsss.edu.hk',\n    學校類別1: '資助',\n    學校類別2: '全日',\n    法團校董會: '已成立',\n    校監_校管會主席姓名: '劉啟智',\n    校監_校管會主席稱謂: '牧師',\n    校長姓名: '張麗雯',\n    校長稱謂: '女士',\n    學生性別: '男女',\n    辦學團體: '香港九龍塘基督教中華宣道會',\n    創校年份: '1961',\n    宗教: '基督教',\n    校訓: '敬畏耶和華是智慧的開端，認識至聖者便是聰明',\n    學校佔地面積: '3932',\n    教學語言: '中文（包括：普通話）',\n    一條龍中學: '-',\n    直屬中學: '-',\n    聯繫中學: '-',\n    校車: '-',\n    保姆車: '有',\n    家長教師會: '有',\n    學費: '-',\n    堂費: '-',\n    家長教師會費: '30',\n    課室數目: '30',\n    禮堂數目: '1',\n    操場數目: '2',\n    圖書館數目: '1',\n    特別室: 'STEAM室、音樂室、視藝室、電腦室、英語室',\n    其他學校設施: '校園電視台、祈禱室',\n    核准編制教師職位數目: '30',\n    教師總人數: '32',\n    已接受師資培訓人數百分率: '100',\n    學士人數百分率: '100',\n    碩士博士或以上人數百分率: '50',\n    特殊教育培訓人數百分率: '42',\n    '0至4年年資人數百分率': '22',\n    '5至9年年資人數百分率': '28',\n    '10年年資或以上人數百分率': '50',\n    上學年小一班數: '5',\n    上學年小二班數: '5',\n    上學年小三班數: '5',\n    上學年小四班數: '5',\n    上學年小五班數: '5',\n    上學年小六班數: '5',\n    上學年總班數: '30',\n    本學年小一班數: '5',\n    本學年小二班數: '5',\n    本學年小三班數: '5',\n    本學年小四班數: '5',\n    本學年小五班數: '5',\n    本學年小六班數: '5',\n    本學年總班數: '30',\n    一般上學時間: '上午8:05',\n    一般放學時間: '下午3:15',\n    午膳開始時間: '中午12:25',\n    午膳結束時間: '下午1:15',\n    午膳安排: '由指定供應商提供及由家長安排',\n    辦學宗旨: '本著基督的愛培育學生，實踐全人教育',\n    校風: '關愛文化，師生關係良好',\n  },\n  {\n    id: '6',\n    學校名稱: '九龍塘官立小學',\n    區域: '九龍城區',\n    學校地址: '九龍塘添福道六號',\n    小一學校網: '41',\n    學校電話: '23360991',\n    學校傳真: '23374673',\n    學校電郵: 'klntgps@edb.gov.hk',\n    學校網址: 'http://www.klntong.edu.hk',\n    學校類別1: '官立',\n    學校類別2: '全日',\n    法團校董會: '不適用',\n    校監_校管會主席姓名: '楊文龍',\n    校監_校管會主席稱謂: '先生',\n    校長姓名: '關天慧',\n    校長稱謂: '女士',\n    學生性別: '男女',\n    辦學團體: '政府',\n    創校年份: '1956',\n    宗教: '不適用',\n    校訓: '進德修業',\n    學校佔地面積: '4500',\n    教學語言: '中文',\n    一條龍中學: '-',\n    直屬中學: '-',\n    聯繫中學: '伊利沙伯中學、何文田官立中學、賽馬會官立中學',\n    校車: '有',\n    保姆車: '-',\n    家長教師會: '有',\n    學費: '-',\n    堂費: '-',\n    家長教師會費: '30',\n    課室數目: '24',\n    禮堂數目: '1',\n    操場數目: '2',\n    圖書館數目: '1',\n    特別室: '圖書館、校園電視台、活動室、音樂室、輔導室、視藝室、電腦室',\n    其他學校設施: '有蓋操場、籃球場',\n    核准編制教師職位數目: '24',\n    教師總人數: '28',\n    已接受師資培訓人數百分率: '100',\n    學士人數百分率: '100',\n    碩士博士或以上人數百分率: '48',\n    特殊教育培訓人數百分率: '36',\n    '0至4年年資人數百分率': '24',\n    '5至9年年資人數百分率': '28',\n    '10年年資或以上人數百分率': '48',\n    上學年小一班數: '4',\n    上學年小二班數: '4',\n    上學年小三班數: '4',\n    上學年小四班數: '4',\n    上學年小五班數: '4',\n    上學年小六班數: '4',\n    上學年總班數: '24',\n    本學年小一班數: '4',\n    本學年小二班數: '4',\n    本學年小三班數: '4',\n    本學年小四班數: '4',\n    本學年小五班數: '4',\n    本學年小六班數: '4',\n    本學年總班數: '24',\n    一般上學時間: '上午8:00',\n    一般放學時間: '下午3:25',\n    午膳開始時間: '中午12:30',\n    午膳結束時間: '下午1:20',\n    午膳安排: '由指定供應商提供',\n    辦學宗旨: '提供優質全人教育，培養學生成為良好公民',\n    校風: '校風純樸，學生有禮守規',\n  },\n];\n","size_bytes":16235},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"shared/school-schema.ts":{"content":"import { z } from \"zod\";\n\nexport const schoolSchema = z.object({\n  id: z.string(),\n  學校名稱: z.string(),\n  區域: z.string(),\n  學校地址: z.string(),\n  小一學校網: z.string(),\n  學校電話: z.string(),\n  學校傳真: z.string().optional(),\n  學校電郵: z.string().optional(),\n  學校網址: z.string().optional(),\n  學校類別1: z.string(), // 資助/私立/官立\n  學校類別2: z.string(), // 全日/上下午\n  法團校董會: z.string().optional(),\n  校監和校董_校管會主席和成員的培訓達標率: z.string().optional(),\n  校監_校管會主席姓名: z.string().optional(),\n  校監_校管會主席稱謂: z.string().optional(),\n  校長姓名: z.string().optional(),\n  校長稱謂: z.string().optional(),\n  學生性別: z.string(), // 男女/男/女\n  辦學團體: z.string().optional(),\n  創校年份: z.string().optional(),\n  宗教: z.string().optional(),\n  校訓: z.string().optional(),\n  學校佔地面積: z.string().optional(),\n  教學語言: z.string().optional(),\n  學校管理架構: z.string().optional(),\n  法團校董會_校管會_校董會: z.string().optional(),\n  舊生會_校友會: z.string().optional(),\n  學校發展計劃: z.string().optional(),\n  一條龍中學: z.string().optional(),\n  直屬中學: z.string().optional(),\n  聯繫中學: z.string().optional(),\n  校車: z.string().optional(),\n  保姆車: z.string().optional(),\n  家長教師會: z.string().optional(),\n  一般上學時間: z.string().optional(),\n  一般放學時間: z.string().optional(),\n  午膳開始時間: z.string().optional(),\n  午膳結束時間: z.string().optional(),\n  午膳安排: z.string().optional(),\n  學費: z.string().optional(),\n  堂費: z.string().optional(),\n  家長教師會費: z.string().optional(),\n  非標準項目的核准收費: z.string().optional(),\n  其他收費_費用: z.string().optional(),\n  學費減免: z.string().optional(),\n  課室數目: z.string().optional(),\n  禮堂數目: z.string().optional(),\n  操場數目: z.string().optional(),\n  圖書館數目: z.string().optional(),\n  特別室: z.string().optional(),\n  其他學校設施: z.string().optional(),\n  支援有特殊教育需要學生的設施: z.string().optional(),\n  核准編制教師職位數目: z.string().optional(),\n  教師總人數: z.string().optional(),\n  已接受師資培訓人數百分率: z.string().optional(),\n  學士人數百分率: z.string().optional(),\n  碩士博士或以上人數百分率: z.string().optional(),\n  特殊教育培訓人數百分率: z.string().optional(),\n  \"0至4年年資人數百分率\": z.string().optional(),\n  \"5至9年年資人數百分率\": z.string().optional(),\n  \"10年年資或以上人數百分率\": z.string().optional(),\n  上學年小一班數: z.string().optional(),\n  上學年小二班數: z.string().optional(),\n  上學年小三班數: z.string().optional(),\n  上學年小四班數: z.string().optional(),\n  上學年小五班數: z.string().optional(),\n  上學年小六班數: z.string().optional(),\n  上學年總班數: z.string().optional(),\n  本學年小一班數: z.string().optional(),\n  本學年小二班數: z.string().optional(),\n  本學年小三班數: z.string().optional(),\n  本學年小四班數: z.string().optional(),\n  本學年小五班數: z.string().optional(),\n  本學年小六班數: z.string().optional(),\n  本學年總班數: z.string().optional(),\n  辦學宗旨: z.string().optional(),\n  校風: z.string().optional(),\n  班級教學模式: z.string().optional(),\n  班級結構備註: z.string().optional(),\n  全年全科測驗次數_一年級: z.string().optional(),\n  全年全科考試次數_一年級: z.string().optional(),\n  小一上學期以多元化的進展性評估代替測驗及考試: z.string().optional(),\n  全年全科測驗次數_二至六年級: z.string().optional(),\n  全年全科考試次數_二至六年級: z.string().optional(),\n  制定適切的校本課業政策_讓家長了解相關安排_並定期蒐集教師_學生和家長的意見: z.string().optional(),\n  將校本評估政策上載至學校網頁_讓公眾及持份者知悉: z.string().optional(),\n  將校本課業政策上載至學校網頁_讓公眾及持份者知悉: z.string().optional(),\n  多元學習評估: z.string().optional(),\n  避免緊接在長假期後安排測考_讓學生在假期有充分的休息: z.string().optional(),\n  按校情靈活編排時間表_盡量在下午安排導修時段_讓學生能在教師指導下完成部分家課: z.string().optional(),\n  分班安排: z.string().optional(),\n  \n  // Teaching Features (School Life & Activities)\n  健康校園生活: z.string().optional(),\n  學校生活備註: z.string().optional(),\n  全方位學習: z.string().optional(),\n  環保政策: z.string().optional(),\n  學校關注事項: z.string().optional(),\n  家校合作: z.string().optional(),\n  學校特色_其他: z.string().optional(),\n  \n  // Curriculum & Teaching\n  學習和教學策略: z.string().optional(),\n  小學教育課程更新重點的發展: z.string().optional(),\n  共通能力的培養: z.string().optional(),\n  正確價值觀_態度和行為的培養: z.string().optional(),\n  課程剪裁及調適措施: z.string().optional(),\n  \n  // Student Support\n  全校參與照顧學生的多樣性: z.string().optional(),\n  全校參與模式融合教育: z.string().optional(),\n  非華語學生的教育支援: z.string().optional(),\n  \n  // Teacher Professional Development\n  教師專業培訓及發展: z.string().optional(),\n});\n\nexport interface Article {\n  title: string;\n  url: string;\n  ogImage?: string;\n  ogDescription?: string;\n}\n\nexport type SchoolData = z.infer<typeof schoolSchema>;\n\nexport type School = SchoolData & {\n  articles?: Article[];\n};\n\nexport interface FilterState {\n  區域: string[];\n  校網: string[];\n  資助類型: string[];\n  學生性別: string[];\n  宗教: string[];\n  教學語言: string[];\n  關聯學校: string[];\n  辦學團體: string[];\n  searchQuery: string;\n}\n\nexport interface SortState {\n  field: keyof School | null;\n  direction: 'asc' | 'desc';\n}\n","size_bytes":6117},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/lib/articlesParser.ts":{"content":"import Papa from 'papaparse';\nimport type { Article } from '@shared/school-schema';\n\nexport interface ArticlesMap {\n  [schoolName: string]: Article[];\n}\n\nlet cachedArticles: ArticlesMap | null = null;\n\nexport async function loadArticles(): Promise<ArticlesMap> {\n  if (cachedArticles) {\n    return cachedArticles;\n  }\n\n  try {\n    const response = await fetch('/attached_assets/database - 相關文章_1763109112535.csv');\n    const csvText = await response.text();\n    \n    const parseResult = Papa.parse(csvText, {\n      header: true,\n      skipEmptyLines: 'greedy',\n      transformHeader: (header: string) => header.trim(),\n    });\n    \n    const articlesMap: ArticlesMap = {};\n    \n    parseResult.data.forEach((row: any) => {\n      const schoolName = row['學校名稱']?.trim();\n      const title = row['文章標題']?.trim();\n      const url = row['文章連結']?.trim();\n      \n      // Skip if school name is missing or article data is empty\n      if (!schoolName || !title || !url) {\n        return;\n      }\n      \n      // Initialize array for this school if needed\n      if (!articlesMap[schoolName]) {\n        articlesMap[schoolName] = [];\n      }\n      \n      // Add article to school's array\n      articlesMap[schoolName].push({\n        title,\n        url,\n      });\n    });\n    \n    console.log(`Loaded articles for ${Object.keys(articlesMap).length} schools`);\n    \n    // DON'T fetch OG metadata here to avoid blocking school list rendering\n    // OG metadata will be lazy-loaded in the UI components as needed\n    \n    cachedArticles = articlesMap;\n    return cachedArticles;\n  } catch (error) {\n    console.error('Failed to load articles CSV:', error);\n    return {};\n  }\n}\n\n// Fetch Open Graph metadata from a URL\nexport async function fetchOGMetadata(url: string): Promise<{ ogImage?: string; ogDescription?: string }> {\n  try {\n    const response = await fetch(`/api/og-metadata?url=${encodeURIComponent(url)}`);\n    if (!response.ok) {\n      console.warn(`Failed to fetch OG metadata for ${url}`);\n      return {};\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(`Error fetching OG metadata for ${url}:`, error);\n    return {};\n  }\n}\n","size_bytes":2190},"client/src/lib/csvParser.ts":{"content":"import { School, SchoolData } from '@shared/school-schema';\nimport Papa from 'papaparse';\nimport { loadArticles } from './articlesParser';\n\n// Load and parse schools from CSV file using Papaparse\nlet cachedSchools: School[] | null = null;\n\nexport async function loadSchools(): Promise<School[]> {\n  if (cachedSchools) {\n    return cachedSchools;\n  }\n  \n  try {\n    const response = await fetch('/attached_assets/database_school_info_1763020452726.csv');\n    const csvText = await response.text();\n    \n    // Count actual lines in CSV\n    const lineCount = csvText.split('\\n').length;\n    console.log(`CSV file has ${lineCount} lines total`);\n    \n    // Parse CSV using Papaparse - handles quoted fields correctly\n    // Note: Don't skip empty lines to ensure we get all 521 schools\n    const parseResult = Papa.parse(csvText, {\n      header: true,\n      skipEmptyLines: false,\n      transformHeader: (header: string) => header.trim(),\n    });\n    \n    console.log(`Papaparse extracted ${parseResult.data.length} rows from CSV`);\n    console.log(`Papaparse meta:`, {\n      delimiter: parseResult.meta.delimiter,\n      linebreak: parseResult.meta.linebreak,\n      aborted: parseResult.meta.aborted,\n      truncated: parseResult.meta.truncated,\n      fields: parseResult.meta.fields?.length\n    });\n    \n    if (parseResult.errors.length > 0) {\n      console.error(`CSV parsing errors (${parseResult.errors.length} errors):`, parseResult.errors);\n    }\n    \n    // Map parsed data to School objects\n    const schools: School[] = parseResult.data.map((row: any, index: number) => {\n      const school: Partial<School> = { id: String(index + 1) };\n      \n      // Copy all fields from CSV row to school object\n      Object.keys(row).forEach(key => {\n        const value = row[key]?.trim() || '';\n        let cleanValue = value === '' || value === '-' ? '-' : value;\n        \n        // Remove <br> tags from Sponsoring Body field to display as single line\n        if (key === '辦學團體' && cleanValue !== '-') {\n          cleanValue = cleanValue.replace(/<br\\s*\\/?>/gi, '');\n        }\n        \n        (school as any)[key] = cleanValue;\n      });\n      \n      return school as School;\n    });\n    \n    // Validate critical fields - only require school name to be valid\n    // Note: \"-\" is a legitimate value for many fields including region\n    cachedSchools = schools.filter(school => {\n      const hasName = school.學校名稱 && school.學校名稱.trim() !== '';\n      \n      if (!hasName) {\n        console.warn('Skipping school row with missing name:', school);\n        return false;\n      }\n      \n      return true;\n    });\n    \n    console.log(`Successfully loaded ${cachedSchools.length} schools from CSV`);\n    \n    // Load and merge articles data\n    const articlesMap = await loadArticles();\n    cachedSchools = cachedSchools.map(school => {\n      const articles = articlesMap[school.學校名稱];\n      if (articles && articles.length > 0) {\n        return {\n          ...school,\n          articles,\n        };\n      }\n      return school;\n    });\n    \n    const schoolsWithArticles = cachedSchools.filter(s => s.articles && s.articles.length > 0).length;\n    console.log(`Merged articles: ${schoolsWithArticles} schools have news articles`);\n    \n    // Note: CSV has some malformed rows, so actual count may be less than 521\n    // This is expected and we load all valid schools we can parse\n    \n    return cachedSchools;\n  } catch (error) {\n    console.error('Failed to load schools CSV:', error);\n    return [];\n  }\n}\n","size_bytes":3540},"client/src/components/ArticleCarousel.tsx":{"content":"import { useState, useEffect, useCallback, useRef } from 'react';\nimport useEmblaCarousel from 'embla-carousel-react';\nimport Autoplay from 'embla-carousel-autoplay';\nimport { ChevronLeft, ChevronRight, Newspaper } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { useLanguage } from '@/contexts/LanguageContext';\nimport { fetchOGMetadata } from '@/lib/articlesParser';\nimport type { Article } from '@shared/school-schema';\n\ninterface ArticleCarouselProps {\n  articles: Article[];\n}\n\nexport default function ArticleCarousel({ articles }: ArticleCarouselProps) {\n  const { convertText } = useLanguage();\n  \n  // Create autoplay plugin with useRef to persist across renders\n  const autoplayRef = useRef(\n    Autoplay({ \n      delay: 3000, \n      stopOnInteraction: false,\n      stopOnMouseEnter: true,  // Pause when hovering\n      stopOnLastSnap: false     // Continue looping through all slides\n    })\n  );\n  \n  const [emblaRef, emblaApi] = useEmblaCarousel(\n    { loop: true, align: 'start' },  // Loop enabled for autoplay to work\n    [autoplayRef.current]\n  );\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [canScrollPrev, setCanScrollPrev] = useState(false);\n  const [canScrollNext, setCanScrollNext] = useState(false);\n  const [ogImages, setOgImages] = useState<Record<number, string | null>>({});\n\n  // Lazy-load OG images for visible slides\n  useEffect(() => {\n    if (!articles.length) return;\n\n    const loadOGImage = async (article: Article, index: number) => {\n      if (ogImages[index] !== undefined) return; // Already loaded or loading\n      \n      try {\n        const data = await fetchOGMetadata(article.url);\n        setOgImages(prev => ({ ...prev, [index]: data.ogImage || null }));\n      } catch (err) {\n        console.warn(`Failed to fetch OG for article ${index}:`, err);\n        setOgImages(prev => ({ ...prev, [index]: null }));\n      }\n    };\n\n    // Load current and adjacent slides\n    const indicesToLoad = [\n      selectedIndex,\n      selectedIndex - 1,\n      selectedIndex + 1\n    ].filter(i => i >= 0 && i < articles.length);\n\n    indicesToLoad.forEach(i => loadOGImage(articles[i], i));\n  }, [selectedIndex, articles, ogImages]);\n\n  const onSelect = useCallback(() => {\n    if (!emblaApi) return;\n    setSelectedIndex(emblaApi.selectedScrollSnap());\n    setCanScrollPrev(emblaApi.canScrollPrev());\n    setCanScrollNext(emblaApi.canScrollNext());\n  }, [emblaApi]);\n\n  useEffect(() => {\n    if (!emblaApi) return;\n    \n    const onInit = () => {\n      console.log('[ArticleCarousel] Embla initialized');\n      onSelect();\n      // Autoplay starts automatically via plugin configuration\n    };\n    \n    // Call onInit immediately if already initialized, or wait for init event\n    if (emblaApi.slidesInView().length > 0) {\n      onInit();\n    } else {\n      emblaApi.on('init', onInit);\n    }\n    \n    emblaApi.on('select', onSelect);\n    emblaApi.on('reInit', onInit);\n    \n    return () => {\n      emblaApi.off('init', onInit);\n      emblaApi.off('select', onSelect);\n      emblaApi.off('reInit', onInit);\n    };\n  }, [emblaApi, onSelect]);\n\n  const scrollPrev = useCallback(() => {\n    if (emblaApi) emblaApi.scrollPrev();\n  }, [emblaApi]);\n\n  const scrollNext = useCallback(() => {\n    if (emblaApi) emblaApi.scrollNext();\n  }, [emblaApi]);\n\n  if (!articles.length) return null;\n\n  return (\n    <div className=\"w-full mb-4\" data-testid=\"card-article-carousel\">\n      {/* Header with controls - max-width for readability */}\n      <div className=\"max-w-5xl mx-auto px-4 md:px-6 mb-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Newspaper className=\"h-4 w-4 text-primary\" />\n            <h3 className=\"font-semibold text-sm\">{convertText('新聞報導')}</h3>\n          </div>\n          {articles.length > 1 && (\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-xs text-muted-foreground\" data-testid=\"text-carousel-count\">\n                {selectedIndex + 1} / {articles.length}\n              </span>\n              <div className=\"flex gap-1\">\n                <Button\n                  size=\"icon\"\n                  variant=\"ghost\"\n                  className=\"h-7 w-7\"\n                  onClick={scrollPrev}\n                  disabled={!canScrollPrev}\n                  data-testid=\"button-carousel-prev\"\n                >\n                  <ChevronLeft className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  size=\"icon\"\n                  variant=\"ghost\"\n                  className=\"h-7 w-7\"\n                  onClick={scrollNext}\n                  disabled={!canScrollNext}\n                  data-testid=\"button-carousel-next\"\n                >\n                  <ChevronRight className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Full-width carousel viewport */}\n      <div className=\"w-full overflow-hidden\" ref={emblaRef} data-testid=\"embla-viewport\">\n        <div className=\"flex\" data-testid=\"embla-container\">\n          {articles.map((article, index) => (\n            <div\n              key={index}\n              className=\"flex-[0_0_100%] min-w-0\"\n              data-testid={`carousel-slide-${index}`}\n            >\n              <a\n                href={article.url}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"block\"\n                data-testid={`link-article-${index}`}\n              >\n                {/* OG Image - full-width, 16:9 aspect ratio */}\n                {ogImages[index] ? (\n                  <img\n                    src={ogImages[index]!}\n                    alt={article.title}\n                    className=\"w-full h-auto aspect-video object-cover\"\n                    data-testid={`img-article-og-${index}`}\n                  />\n                ) : ogImages[index] === null ? (\n                  <div className=\"w-full aspect-video bg-muted flex items-center justify-center\">\n                    <Newspaper className=\"h-16 w-16 text-muted-foreground\" />\n                  </div>\n                ) : (\n                  <div className=\"w-full aspect-video bg-muted/50 flex items-center justify-center animate-pulse\">\n                    <Newspaper className=\"h-16 w-16 text-muted-foreground/50\" />\n                  </div>\n                )}\n\n                {/* Article title - max-width for readability */}\n                <div className=\"max-w-5xl mx-auto px-4 md:px-6 py-3\">\n                  <p className=\"text-sm md:text-base font-medium text-foreground leading-snug\" data-testid={`text-article-title-${index}`}>\n                    {convertText(article.title)}\n                  </p>\n                </div>\n              </a>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":6969},"client/src/components/AdBanner.tsx":{"content":"import { adConfig } from '@/config/ads';\n\ninterface AdBannerProps {\n  className?: string;\n}\n\nexport default function AdBanner({ className = '' }: AdBannerProps) {\n  const handleClick = () => {\n    if (adConfig.targetUrl) {\n      window.open(adConfig.targetUrl, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  // If no images are configured, show placeholder\n  const hasImages = adConfig.desktopImage || adConfig.mobileImage;\n\n  if (!hasImages) {\n    return (\n      <div className={`w-full ${className}`}>\n        {/* Desktop placeholder */}\n        <div \n          className=\"hidden md:flex items-center justify-center bg-muted border border-border rounded-md cursor-pointer hover-elevate active-elevate-2\"\n          style={{ width: '970px', height: '90px', maxWidth: '100%' }}\n          onClick={handleClick}\n          data-testid=\"ad-banner-desktop\"\n        >\n          <span className=\"text-sm text-muted-foreground\">廣告位置 (970x90)</span>\n        </div>\n        \n        {/* Mobile placeholder */}\n        <div \n          className=\"flex md:hidden items-center justify-center bg-muted border border-border rounded-md cursor-pointer hover-elevate active-elevate-2\"\n          style={{ width: '320px', height: '50px', maxWidth: '100%' }}\n          onClick={handleClick}\n          data-testid=\"ad-banner-mobile\"\n        >\n          <span className=\"text-xs text-muted-foreground\">廣告位置 (320x50)</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`w-full ${className}`}>\n      {/* Desktop ad */}\n      {adConfig.desktopImage && (\n        <img\n          src={adConfig.desktopImage}\n          alt={adConfig.altText}\n          className=\"hidden md:block cursor-pointer rounded-md hover-elevate active-elevate-2\"\n          style={{ width: '970px', height: '90px', maxWidth: '100%', objectFit: 'cover' }}\n          onClick={handleClick}\n          data-testid=\"ad-banner-desktop\"\n        />\n      )}\n      \n      {/* Mobile ad */}\n      {adConfig.mobileImage && (\n        <img\n          src={adConfig.mobileImage}\n          alt={adConfig.altText}\n          className=\"block md:hidden cursor-pointer rounded-md hover-elevate active-elevate-2\"\n          style={{ width: '320px', height: '50px', maxWidth: '100%', objectFit: 'cover' }}\n          onClick={handleClick}\n          data-testid=\"ad-banner-mobile\"\n        />\n      )}\n    </div>\n  );\n}\n","size_bytes":2377},"client/src/config/ads.ts":{"content":"// Ad configuration\n// To use your own ads:\n// 1. Place your ad images in attached_assets folder (e.g., attached_assets/ad-desktop.jpg, attached_assets/ad-mobile.jpg)\n// 2. Update the image paths below to import from @assets\n// 3. Update the targetUrl to your desired hyperlink\n\nexport const adConfig = {\n  // Desktop ad image (970x90px recommended)\n  desktopImage: '', // e.g., import desktopAd from '@assets/ad-desktop.jpg'\n  \n  // Mobile ad image (320x50px recommended)\n  mobileImage: '', // e.g., import mobileAd from '@assets/ad-mobile.jpg'\n  \n  // Target URL when ad is clicked\n  targetUrl: 'https://example.com',\n  \n  // Alt text for accessibility\n  altText: '廣告',\n};\n","size_bytes":679}},"version":2}